<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shool Talk Talk</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            min-height: 100vh;
            background-color: #ffffff;
            color: #333333;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode {
            background-color: #1a1a1a;
            color: #ffffff;
        }
        .vertical-tabs {
            width: 60px;
            background-color: #f5f5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            transition: background-color 0.3s;
        }
        body.dark-mode .vertical-tabs {
            background-color: #2b2b2b;
        }
        .tab-button {
            width: 40px;
            height: 40px;
            margin-bottom: 10px;
            border: none;
            border-radius: 8px;
            background-color: #e0e0e0;
            color: #333333;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s, color 0.2s;
        }
        body.dark-mode .tab-button {
            background-color: #3f3f3f;
            color: #ffffff;
        }
        .tab-button:hover {
            background-color: #d0d0d0;
        }
        body.dark-mode .tab-button:hover {
            background-color: #4f4f4f;
        }
        .tab-button.active {
            background-color: #0078d4;
            color: #ffffff;
        }
        .content-area {
            flex: 1;
            padding: 20px;
            background-color: #f5f5f5;
            transition: background-color 0.3s;
        }
        body.dark-mode .content-area {
            background-color: #2b2b2b;
        }
        .main-container, .community-container, .settings-container {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: background-color 0.3s;
        }
        body.dark-mode .main-container,
        body.dark-mode .community-container,
        body.dark-mode .settings-container {
            background-color: #333333;
        }
        .main-container.active,
        .community-container.active,
        .settings-container.active {
            display: block;
        }
        .settings-profile {
            padding: 20px;
            background-color: #fff;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode .settings-profile {
            background-color: #333;
            color: #fff;
        }
        .profile-image {
            width: 60px;
            height: 60px;
            background-color: #e1e1e1;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        .profile-image input[type="file"] {
            display: none;
        }
        .profile-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .profile-info h2, .profile-info p {
            color: inherit;
            margin: 0;
        }
        .settings-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .settings-item {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1.1em;
            font-weight: 500;
        }
        body.dark-mode .settings-item {
            border-bottom: 1px solid #444;
        }
        .settings-item:hover {
            background-color: #f8f8f8;
        }
        body.dark-mode .settings-item:hover {
            background-color: #444;
        }
        .settings-item .accordion-toggle {
            color: #666;
            font-size: 1.2em;
            transition: transform 0.3s, color 0.3s;
        }
        body.dark-mode .settings-item .accordion-toggle {
            color: #aaa;
        }
        .settings-item.active .accordion-toggle {
            transform: rotate(90deg);
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            background-color: #f9f9f9;
            padding: 0 20px;
        }
        body.dark-mode .accordion-content {
            background-color: #2a2a2a;
        }
        .accordion-content.active {
            padding: 15px 20px;
        }
        .accordion-content ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .accordion-content li {
            padding: 10px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 0.95em;
        }
        .community-container {
            padding: 20px;
        }
        .community-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .post-form {
            background-color: #fff;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        body.dark-mode .post-form {
            background-color: #333;
        }
        .post-form input, .post-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
            color: inherit;
            background-color: #fff;
            transition: border-color 0.3s, background-color 0.3s;
        }
        body.dark-mode .post-form input,
        body.dark-mode .post-form textarea {
            border-color: #555;
            background-color: #2a2a2a;
        }
        .post-form textarea {
            resize: vertical;
            min-height: 100px;
        }
        .post-form button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #0078d4;
            color: #fff;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .post-form button:hover {
            background-color: #005ea2;
        }
        .post-list table {
            width: 100%;
            border-collapse: collapse;
        }
        .post-list th, .post-list td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            text-align: left;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode .post-list th,
        body.dark-mode .post-list td {
            border-bottom: 1px solid #444;
        }
        .post-list th {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        body.dark-mode .post-list th {
            background-color: #333;
        }
        .post-list tr:hover {
            background-color: #f8f8f8;
            cursor: pointer;
        }
        body.dark-mode .post-list tr:hover {
            background-color: #444;
        }
        .post-actions {
            position: relative;
            display: inline-block;
        }
        .post-actions-button {
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            color: #333;
        }
        body.dark-mode .post-actions-button {
            color: #fff;
        }
        .post-actions-menu {
            display: none;
            position: absolute;
            right: 0;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 100;
        }
        body.dark-mode .post-actions-menu {
            background-color: #333;
            border-color: #555;
        }
        .post-actions-menu.active {
            display: block;
        }
        .post-actions-menu button {
            display: block;
            width: 100%;
            padding: 10px 15px;
            border: none;
            background: none;
            text-align: left;
            cursor: pointer;
            color: #333;
        }
        body.dark-mode .post-actions-menu button {
            color: #fff;
        }
        .post-actions-menu button:hover {
            background-color: #f8f8f8;
        }
        body.dark-mode .post-actions-menu button:hover {
            background-color: #444;
        }
        /* ÏàòÏ†ï: Í≤åÏãúÎ¨º ÏÉÅÏÑ∏ Î≥¥Í∏∞ UI ÎîîÏûêÏù∏ Í∞úÏÑ† */
        .post-detail {
            max-height: 0;
            overflow: hidden;
            padding: 0 20px;
            background-color: #fafafa;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: max-height 0.3s ease-out, padding 0.3s ease-out, opacity 0.3s ease-out;
            opacity: 0;
        }
        body.dark-mode .post-detail {
            background-color: #2a2a2a;
            border-color: #555;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .post-detail.active {
            padding: 20px;
            opacity: 1;
            overflow: auto;
        }
        .post-detail h2 {
            margin: 0 0 10px;
            font-size: 1.6em;
            font-weight: 600;
            color: #333;
        }
        body.dark-mode .post-detail h2 {
            color: #fff;
        }
        .post-detail .meta {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        body.dark-mode .post-detail .meta {
            color: #aaa;
            border-bottom-color: #444;
        }
        .post-detail .content {
            white-space: pre-wrap;
            font-size: 1em;
            line-height: 1.6;
            color: #333;
        }
        body.dark-mode .post-detail .content {
            color: #fff;
        }
        .main-container {
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
            gap: 20px;
            display: none;
        }
        .main-container.active {
            display: flex;
        }
        .settings-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            display: none;
        }
        body.dark-mode .settings-container {
            background-color: #333333;
        }
        .settings-container.active {
            display: block;
        }
        .left-container, .right-container {
            flex: 1;
            min-width: 400px;
        }
        .right-container {
            padding-top: 60px;
        }
        .top-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
            height: 40px;
        }
        .search-container {
            position: relative;
            flex: 1;
        }
        #search-input {
            width: 100%;
            padding: 8px;
            font-size: 14px;
        }
        #class-select {
            padding: 8px;
            font-size: 14px;
        }
        #school-list {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            max-height: 300px;
            overflow-y: auto;
            background: white;
            border: 1px solid #ddd;
            border-top: none;
            z-index: 1000;
        }
        #school-list a {
            display: block;
            padding: 8px;
            text-decoration: none;
            color: black;
        }
        #school-list a:hover {
            background-color: #f0f0f0;
        }
        .timetable, .calendar {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
            height: 700px;
        }
        .timetable thead th, .calendar thead th {
            height: 40px;
            padding: 8px;
            text-align: center;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            font-weight: bold;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        body.dark-mode .timetable thead th,
        body.dark-mode .calendar thead th {
            background-color: #333;
            color: #fff;
            border-color: #555;
        }
        .timetable tbody td {
            height: calc((700px - 40px) / 7);
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        body.dark-mode .timetable tbody td {
            background-color: #2a2a2a;
            color: #fff;
            border-color: #444;
        }
        .calendar tbody td {
            height: calc((700px - 40px) / 6);
            border: 1px solid #ddd;
            vertical-align: top;
            width: calc(100% / 7);
            padding: 0;
            position: relative;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        body.dark-mode .calendar tbody td {
            background-color: #2a2a2a;
            color: #fff;
            border-color: #444;
        }
        .calendar .date-number {
            padding: 5px;
            font-weight: bold;
            background-color: #f5f5f5;
            margin-bottom: 5px;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode .calendar .date-number {
            background-color: #333;
            color: #fff;
        }
        .calendar .memo {
            padding: 5px;
            height: calc(100% - 30px);
            width: 100%;
            box-sizing: border-box;
            border: none;
            resize: none;
            font-family: inherit;
            font-size: inherit;
            background: transparent;
            color: inherit;
            transition: background-color 0.3s, color 0.3s;
        }
        .calendar .memo:focus {
            outline: none;
            background-color: #f8f8f8;
        }
        body.dark-mode .calendar .memo:focus {
            background-color: #333;
        }
        .timetable td[contenteditable="true"] {
            background-color: #fff;
            cursor: text;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode .timetable td[contenteditable="true"] {
            background-color: #2a2a2a;
            color: #fff;
        }
        .timetable td[contenteditable="true"]:hover {
            background-color: #f8f8f8;
        }
        body.dark-mode .timetable td[contenteditable="true"]:hover {
            background-color: #333;
        }
        .timetable td[contenteditable="true"]:focus {
            outline: 2px solid #007bff;
            outline-offset: -2px;
        }
        body.dark-mode .timetable td[contenteditable="true"]:focus {
            outline-color: #0078d4;
        }
        .profile-edit {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        .edit-button {
            background: none;
            border: none;
            color: #0078d4;
            cursor: pointer;
            font-size: 1.2em;
        }
        .edit-input {
            border: 1px solid #ddd;
            padding: 5px;
            border-radius: 4px;
            width: 200px;
        }
        .font-size-control {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
        }
        .font-size-button {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: none;
            cursor: pointer;
            color: inherit;
        }
        body.dark-mode .font-size-button {
            border-color: #555;
        }
        .reset-button {
            margin-left: auto;
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: none;
            cursor: pointer;
            color: #0078d4;
        }
        body.dark-mode .reset-button {
            border-color: #555;
        }
        .terms-container {
            max-height: 400px;
            overflow-y: auto;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            margin: 10px 0;
        }
        body.dark-mode .terms-container {
            background-color: #2a2a2a;
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .toggle-slider {
            background-color: #0078d4;
        }
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        .language-select, .notification-sound {
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #ddd;
            background-color: white;
            color: inherit;
        }
        body.dark-mode .language-select,
        body.dark-mode .notification-sound {
            background-color: #333;
            border-color: #555;
        }
        .data-import input[type="file"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
            color: inherit;
        }
        body.dark-mode .data-import input[type="file"] {
            background-color: #333;
            border-color: #555;
        }
        @media screen and (max-width: 768px) {
            body {
                flex-direction: column;
                padding-bottom: 100px;
            }
            .vertical-tabs {
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 80px;
                background-color: #f5f5f5;
                display: flex;
                flex-direction: row;
                justify-content: space-around;
                align-items: center;
                padding: 0;
                z-index: 1000;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            }
            body.dark-mode .vertical-tabs {
                background-color: #2b2b2b;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.3);
            }
            .tab-button {
                width: 60px;
                height: 60px;
                margin: 0;
                border-radius: 50%;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                font-size: 24px;
            }
            .content-area {
                padding: 10px;
                padding-bottom: 90px;
            }
            .main-container {
                flex-direction: column;
            }
            .left-container, .right-container {
                min-width: 100%;
                margin-bottom: 20px;
            }
            .top-controls {
                flex-direction: column;
                gap: 10px;
                height: auto;
            }
            .search-container {
                width: 100%;
            }
            #class-select {
                width: 100%;
                padding: 10px;
            }
            .timetable, .calendar {
                height: auto;
                min-height: 300px;
            }
            .timetable tbody td {
                height: 50px;
                font-size: 12px;
                padding: 4px;
            }
            .calendar tbody td {
                height: 80px;
            }
            .settings-container {
                max-width: 100%;
            }
            .post-list th:nth-child(4), .post-list td:nth-child(4),
            .post-list th:nth-child(5), .post-list td:nth-child(5) {
                display: none;
            }
            .post-form input, .post-form textarea {
                font-size: 14px;
            }
            .post-actions-menu {
                right: -10px;
            }
            .post-detail.active {
                max-height: 300px;
            }
        }
        @media screen and (min-width: 769px) and (max-width: 1024px) {
            .main-container {
                flex-direction: column;
            }
            .left-container, .right-container {
                min-width: 100%;
                margin-bottom: 20px;
            }
            .timetable, .calendar {
                height: 500px;
            }
            .settings-container, .community-container {
                max-width: 90%;
            }
        }
        @media screen and (min-width: 1025px) {
            .main-container {
                flex-direction: row;
            }
            .left-container, .right-container {
                min-width: 400px;
            }
            .timetable, .calendar {
                height: 700px;
            }
        }
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #0078d4;
            color: white;
            border: none;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        @media screen and (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }
            .vertical-tabs {
                display: none;
            }
            .vertical-tabs.active {
                display: flex;
            }
        }
        .mobile-bottom-tabs {
            display: none;
        }
        @media screen and (max-width: 768px) {
            .mobile-bottom-tabs {
                display: flex;
            }
            .content-area {
                padding-bottom: 100px;
            }
        }
    </style>
</head>
<body>
    <div class="vertical-tabs">
        <button class="tab-button active" onclick="switchTab('main')" title="ÏãúÍ∞ÑÌëú">üìÖ</button>
        <button class="tab-button" onclick="switchTab('community')" title="Ïª§ÎÆ§ÎãàÌã∞">üìã</button>
        <button class="tab-button" onclick="switchTab('settings')" title="ÏÑ§Ï†ï">‚öôÔ∏è</button>
    </div>
    <div class="content-area">
        <div class="main-container active">
            <div class="left-container">
                <div class="top-controls">
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="ÌïôÍµê Í≤ÄÏÉâ" oninput="filterSchools()">
                        <div id="school-list"></div>
                    </div>
                    <select id="class-select" onchange="switchClass(this.value)">
                        <option value="1Î∞ò">1Î∞ò</option>
                        <option value="2Î∞ò">2Î∞ò</option>
                        <option value="3Î∞ò">3Î∞ò</option>
                        <option value="4Î∞ò">4Î∞ò</option>
                    </select>
                </div>
                <table class="timetable">
                    <thead>
                        <tr>
                            <th>ÍµêÏãú</th>
                            <th>Ïõî</th>
                            <th>Ìôî</th>
                            <th>Ïàò</th>
                            <th>Î™©</th>
                            <th>Í∏à</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1ÍµêÏãú</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>2ÍµêÏãú</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>3ÍµêÏãú</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>4ÍµêÏãú</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>5ÍµêÏãú</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>6ÍµêÏãú</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>7ÍµêÏãú</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                    </tbody>
                </table>
            </div>
            <div class="right-container">
                <table class="calendar">
                    <thead>
                        <tr>
                            <th>Ïùº</th>
                            <th>Ïõî</th>
                            <th>Ìôî</th>
                            <th>Ïàò</th>
                            <th>Î™©</th>
                            <th>Í∏à</th>
                            <th>ÌÜ†</th>
                        </tr>
                    </thead>
                    <tbody id="calendar-body"></tbody>
                </table>
            </div>
        </div>
        <div class="community-container">
            <div class="community-header">
                <h2>Ïª§ÎÆ§ÎãàÌã∞</h2>
                <button class="post-form-button" onclick="showPostForm()">Í∏ÄÏì∞Í∏∞</button>
            </div>
            <div class="post-form" style="display: none;">
                <input type="text" id="post-title" placeholder="Ï†úÎ™©">
                <input type="text" id="post-author" placeholder="ÏûëÏÑ±Ïûê (Í∏∞Î≥∏: ÏùµÎ™Ö)" value="ÏùµÎ™Ö">
                <textarea id="post-content" placeholder="ÎÇ¥Ïö©"></textarea>
                <button onclick="submitPost()">Í≤åÏãú</button>
            </div>
            <div class="post-list">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 45%;">Ï†úÎ™©</th>
                            <th style="width: 20%;">ÏûëÏÑ±Ïûê</th>
                            <th style="width: 20%;">ÏûëÏÑ±Ïùº</th>
                            <th style="width: 10%;">Ï°∞ÌöåÏàò</th>
                            <th style="width: 5%;"></th>
                        </tr>
                    </thead>
                    <tbody id="post-list-body"></tbody>
                </table>
            </div>
        </div>
        <div class="settings-container">
            <div class="settings-profile">
                <div class="profile-image" onclick="document.getElementById('profile-image-input').click()">
                    <input type="file" id="profile-image-input" accept="image/*" onchange="handleImageUpload(event)">
                    <img id="profile-preview" src="" alt="ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ">
                </div>
                <div class="profile-info">
                    <h2>
                        <span id="user-name">ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ</span>
                        <button class="edit-button" onclick="editField('user-name')">‚úèÔ∏è</button>
                    </h2>
                    <p>
                        <span id="user-email">user@example.com</span>
                        <button class="edit-button" onclick="editField('user-email')">‚úèÔ∏è</button>
                    </p>
                </div>
            </div>
            <div class="main-settings">
                <ul class="settings-list">
                    <li class="settings-item" data-section="notifications">
                        ÏïåÎ¶º ÏÑ§Ï†ï
                        <i class="accordion-toggle">‚Ä∫</i>
                        <div class="accordion-content" id="notifications-content">
                            <ul>
                                <li>
                                    Ìë∏Ïãú ÏïåÎ¶º
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="push-notification" onchange="toggleNotification('push')">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>
                                    Ïù¥Î©îÏùº ÏïåÎ¶º
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="email-notification" onchange="toggleNotification('email')">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>
                                    ÏãúÍ∞ÑÌëú Î≥ÄÍ≤Ω ÏïåÎ¶º
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="timetable-notification" onchange="toggleNotification('timetable')">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>
                                    ÏãúÌóò ÏùºÏ†ï ÏïåÎ¶º
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="exam-notification" onchange="toggleNotification('exam')">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>
                                    ÏïåÎ¶ºÏùå ÏÑ§Ï†ï
                                    <select class="notification-sound" onchange="changeNotificationSound(this.value)">
                                        <option value="default">Í∏∞Î≥∏ ÏïåÎ¶ºÏùå</option>
                                        <option value="bell">Î≤® ÏÜåÎ¶¨</option>
                                        <option value="chime">Ï∞®ÏûÑÎ≤®</option>
                                        <option value="ding">Îî©Îèô</option>
                                    </select>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="theme">
                        ÌÖåÎßà ÏÑ§Ï†ï
                        <i class="accordion-toggle">‚Ä∫</i>
                        <div class="accordion-content" id="theme-content">
                            <ul>
                                <li onclick="toggleDarkMode()">Îã§ÌÅ¨Î™®Îìú Ï†ÑÌôò</li>
                                <li>
                                    <div class="font-size-control">
                                        Ìè∞Ìä∏ ÌÅ¨Í∏∞
                                        <button class="font-size-button" onclick="changeFontSize(-1)">A-</button>
                                        <button class="font-size-button" onclick="changeFontSize(1)">A+</button>
                                        <button class="reset-button" onclick="resetFontSize()">Ï¥àÍ∏∞Ìôî</button>
                                    </div>
                                </li>
                                <li>
                                    Ïñ∏Ïñ¥ ÏÑ§Ï†ï
                                    <select class="language-select" onchange="changeLanguage(this.value)">
                                        <option value="ko">ÌïúÍµ≠Ïñ¥</option>
                                        <option value="en">English</option>
                                        <option value="ja">Êó•Êú¨Ë™û</option>
                                        <option value="zh">‰∏≠Êñá</option>
                                    </select>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="data">
                        Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨
                        <i class="accordion-toggle">‚Ä∫</i>
                        <div class="accordion-content" id="data-content">
                            <ul>
                                <li onclick="exportData()">Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞</li>
                                <li class="data-import">
                                    Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞
                                    <input type="file" id="import-data" accept=".json" onchange="importData(event)">
                                </li>
                                <li onclick="resetData()">Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî</li>
                                <li>
                                    ÏûêÎèô Ï†ÄÏû•
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="auto-save" onchange="toggleAutoSave()">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="sync">
                        Î∞±ÏóÖ Î∞è ÎèôÍ∏∞Ìôî
                        <i class="accordion-toggle">‚Ä∫</i>
                        <div class="accordion-content" id="sync-content">
                            <ul>
                                <li>
                                    ÏûêÎèô Î∞±ÏóÖ
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="auto-backup" onchange="toggleAutoBackup()">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li onclick="manualBackup()">ÏàòÎèô Î∞±ÏóÖ</li>
                                <li>
                                    ÌÅ¥ÎùºÏö∞Îìú ÎèôÍ∏∞Ìôî
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="cloud-sync" onchange="toggleCloudSync()">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>ÎßàÏßÄÎßâ ÎèôÍ∏∞Ìôî: <span id="last-sync">-</span></li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="privacy">
                        Í∞úÏù∏Ï†ïÎ≥¥ ÏÑ§Ï†ï
                        <i class="accordion-toggle">‚Ä∫</i>
                        <div class="accordion-content" id="privacy-content">
                            <ul>
                                <li onclick="showTerms()">Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë¬∑Ïù¥Ïö© ÎèôÏùòÏÑú</li>
                                <li onclick="showLocationSettings()">ÏúÑÏπò Ï†ïÎ≥¥ ÏÑ§Ï†ï</li>
                                <li onclick="showAccountSettings()">Í≥ÑÏ†ï Ï†ïÎ≥¥ Í¥ÄÎ¶¨</li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="help">
                        ÎèÑÏõÄÎßê
                        <i class="accordion-toggle">‚Ä∫</i>
                        <div class="accordion-content" id="help-content">
                            <ul>
                                <li onclick="showFAQ()">ÏûêÏ£º Ï∞æÎäî ÎèÑÏõÄÎßê</li>
                                <li onclick="showContact()">Î¨∏ÏùòÌïòÍ∏∞</li>
                                <li onclick="showUserGuide()">ÏÇ¨Ïö© Í∞ÄÏù¥Îìú</li>
                                <li>Î≤ÑÏ†Ñ Ï†ïÎ≥¥: bEtA tEsT!</li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="mobile-bottom-tabs">
        <button class="mobile-tab-button active" onclick="switchTab('main')" title="ÏãúÍ∞ÑÌëú">üìÖ</button>
        <button class="mobile-tab-button" onclick="switchTab('community')" title="Ïª§ÎÆ§ÎãàÌã∞">üìã</button>
        <button class="mobile-tab-button" onclick="switchTab('settings')" title="ÏÑ§Ï†ï">‚öôÔ∏è</button>
    </div>
    <script>
        // Îã§Íµ≠Ïñ¥ Î≤àÏó≠ Îç∞Ïù¥ÌÑ∞
        const translations = {
            ko: {
                timetable: "ÏãúÍ∞ÑÌëú",
                community: "Ïª§ÎÆ§ÎãàÌã∞",
                settings: "ÏÑ§Ï†ï",
                searchPlaceholder: "ÌïôÍµê Í≤ÄÏÉâ",
                classSelect: "Î∞ò ÏÑ†ÌÉù",
                notifications: "ÏïåÎ¶º ÏÑ§Ï†ï",
                theme: "ÌÖåÎßà ÏÑ§Ï†ï",
                data: "Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨",
                sync: "Î∞±ÏóÖ Î∞è ÎèôÍ∏∞Ìôî",
                privacy: "Í∞úÏù∏Ï†ïÎ≥¥ ÏÑ§Ï†ï",
                help: "ÎèÑÏõÄÎßê",
                pushNotification: "Ìë∏Ïãú ÏïåÎ¶º",
                emailNotification: "Ïù¥Î©îÏùº ÏïåÎ¶º",
                timetableNotification: "ÏãúÍ∞ÑÌëú Î≥ÄÍ≤Ω ÏïåÎ¶º",
                examNotification: "ÏãúÌóò ÏùºÏ†ï ÏïåÎ¶º",
                notificationSound: "ÏïåÎ¶ºÏùå ÏÑ§Ï†ï",
                defaultSound: "Í∏∞Î≥∏ ÏïåÎ¶ºÏùå",
                bellSound: "Î≤® ÏÜåÎ¶¨",
                chimeSound: "Ï∞®ÏûÑÎ≤®",
                dingSound: "Îî©Îèô",
                darkMode: "Îã§ÌÅ¨Î™®Îìú Ï†ÑÌôò",
                fontSize: "Ìè∞Ìä∏ ÌÅ¨Í∏∞",
                language: "Ïñ∏Ïñ¥ ÏÑ§Ï†ï",
                reset: "Ï¥àÍ∏∞Ìôî",
                exportData: "Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞",
                importData: "Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞",
                resetData: "Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî",
                autoSave: "ÏûêÎèô Ï†ÄÏû•",
                confirmReset: "Î™®Îì† Îç∞Ïù¥ÌÑ∞Î•º Ï¥àÍ∏∞ÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå? Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.",
                autoBackup: "ÏûêÎèô Î∞±ÏóÖ",
                manualBackup: "ÏàòÎèô Î∞±ÏóÖ",
                cloudSync: "ÌÅ¥ÎùºÏö∞Îìú ÎèôÍ∏∞Ìôî",
                lastSync: "ÎßàÏßÄÎßâ ÎèôÍ∏∞Ìôî",
                backupComplete: "Îç∞Ïù¥ÌÑ∞ Î≥µÏõêÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.",
                privacyPolicy: "Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë¬∑Ïù¥Ïö© ÎèôÏùòÏÑú",
                locationSettings: "ÏúÑÏπò Ï†ïÎ≥¥ ÏÑ§Ï†ï",
                accountSettings: "Í≥ÑÏ†ï Ï†ïÎ≥¥ Í¥ÄÎ¶¨",
                faq: "ÏûêÏ£º Ï∞æÎäî ÎèÑÏõÄÎßê",
                contact: "Î¨∏ÏùòÌïòÍ∏∞",
                userGuide: "ÏÇ¨Ïö© Í∞ÄÏù¥Îìú",
                version: "Î≤ÑÏ†Ñ Ï†ïÎ≥¥",
                communityHeader: "Ïª§ÎÆ§ÎãàÌã∞",
                writePost: "Í∏ÄÏì∞Í∏∞",
                postTitle: "Ï†úÎ™©",
                postContent: "ÎÇ¥Ïö©",
                postAuthor: "ÏûëÏÑ±Ïûê (Í∏∞Î≥∏: ÏùµÎ™Ö)",
                submitPost: "Í≤åÏãú",
                postListTitle: "Ï†úÎ™©",
                postListAuthor: "ÏûëÏÑ±Ïûê",
                postListDate: "ÏûëÏÑ±Ïùº",
                postListViews: "Ï°∞ÌöåÏàò",
                deletePost: "ÏÇ≠Ï†ú",
                sharePost: "Í≥µÏú†",
                exportSuccess: "Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÎÇ¥Î≥¥ÎÇ¥Ï°åÏäµÎãàÎã§.",
                importSuccess: "Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Î∂àÎü¨ÏôÄÏ°åÏäµÎãàÎã§.",
                importError: "ÏûòÎ™ªÎêú ÌååÏùº ÌòïÏãùÏûÖÎãàÎã§. JSON ÌååÏùºÏùÑ ÏóÖÎ°úÎìúÌï¥Ï£ºÏÑ∏Ïöî.",
                importInvalid: "Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ Îç∞Ïù¥ÌÑ∞ ÌòïÏãùÏûÖÎãàÎã§.",
                postNotFound: "Í≤åÏãúÍ∏ÄÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.",
                deleteConfirm: "Ïù¥ Í≤åÏãúÍ∏ÄÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?",
                shareSuccess: "Í≤åÏãúÍ∏Ä ÎÇ¥Ïö©Ïù¥ ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§.",
                shareError: "Í≥µÏú†Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî."
            },
            en: {
                timetable: "Timetable",
                community: "Community",
                settings: "Settings",
                searchPlaceholder: "Search school",
                classSelect: "Select class",
                notifications: "Notification Settings",
                theme: "Theme Settings",
                data: "Data Management",
                sync: "Backup & Sync",
                privacy: "Privacy Settings",
                help: "Help",
                pushNotification: "Push Notifications",
                emailNotification: "Email Notifications",
                timetableNotification: "Timetable Change Notifications",
                examNotification: "Exam Schedule Notifications",
                notificationSound: "Notification Sound",
                defaultSound: "Default Sound",
                bellSound: "Bell Sound",
                chimeSound: "Chime Sound",
                dingSound: "Ding Sound",
                darkMode: "Toggle Dark Mode",
                fontSize: "Font Size",
                language: "Language Settings",
                reset: "Reset",
                exportData: "Export Data",
                importData: "Import Data",
                resetData: "Reset Data",
                autoSave: "Auto Save",
                confirmReset: "Are you sure you want to reset all data? This action cannot be undone.",
                autoBackup: "Auto Backup",
                manualBackup: "Manual Backup",
                cloudSync: "Cloud Sync",
                lastSync: "Last Sync",
                backupComplete: "Data restoration completed.",
                privacyPolicy: "Privacy Policy",
                locationSettings: "Location Settings",
                accountSettings: "Account Settings",
                faq: "Frequently Asked Questions",
                contact: "Contact Us",
                userGuide: "User Guide",
                version: "Version Info",
                communityHeader: "Community",
                writePost: "Write Post",
                postTitle: "Title",
                postContent: "Content",
                postAuthor: "Author (default: Anonymous)",
                submitPost: "Post",
                postListTitle: "Title",
                postListAuthor: "Author",
                postListDate: "Date",
                postListViews: "Views",
                deletePost: "Delete",
                sharePost: "Share",
                exportSuccess: "Data exported successfully.",
                importSuccess: "Data imported successfully.",
                importError: "Invalid file format. Please upload a JSON file.",
                importInvalid: "Invalid data format.",
                postNotFound: "Post not found.",
                deleteConfirm: "Are you sure you want to delete this post?",
                shareSuccess: "Post content copied to clipboard.",
                shareError: "Failed to share. Please try again."
            }
        };

        let currentLanguage = localStorage.getItem('language') || 'ko';
        const timetableCells = document.querySelectorAll('.timetable td[contenteditable="true"]');
        let currentClass = "1Î∞ò";
        let currentSchool = "";
        const timetables = {};

        // Ïñ∏Ïñ¥ Î≥ÄÍ≤Ω Î∞è UI ÏóÖÎç∞Ïù¥Ìä∏
        function changeLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('language', lang);
            updateTranslations();
            const languageSelect = document.querySelector('.language-select');
            if (languageSelect) languageSelect.value = lang;
        }

        // UI Î≤àÏó≠ ÏóÖÎç∞Ïù¥Ìä∏
        function updateTranslations() {
            const t = translations[currentLanguage];
            document.querySelector('.tab-button[onclick="switchTab(\'main\')"]').title = t.timetable;
            document.querySelector('.tab-button[onclick="switchTab(\'community\')"]').title = t.community;
            document.querySelector('.tab-button[onclick="switchTab(\'settings\')"]').title = t.settings;
            document.getElementById('search-input').placeholder = t.searchPlaceholder;
            document.getElementById('post-title').placeholder = t.postTitle;
            document.getElementById('post-author').placeholder = t.postAuthor;
            document.getElementById('post-content').placeholder = t.postContent;
            const settingsItems = document.querySelectorAll('.settings-item');
            settingsItems.forEach(item => {
                const section = item.dataset.section;
                if (section && t[section]) item.childNodes[0].textContent = t[section];
            });
            const notificationsContent = document.getElementById('notifications-content');
            if (notificationsContent) {
                const items = notificationsContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.pushNotification;
                items[1].childNodes[0].textContent = t.emailNotification;
                items[2].childNodes[0].textContent = t.timetableNotification;
                items[3].childNodes[0].textContent = t.examNotification;
                items[4].childNodes[0].textContent = t.notificationSound;
                const soundSelect = items[4].querySelector('select');
                soundSelect.options[0].textContent = t.defaultSound;
                soundSelect.options[1].textContent = t.bellSound;
                soundSelect.options[2].textContent = t.chimeSound;
                soundSelect.options[3].textContent = t.dingSound;
            }
            const themeContent = document.getElementById('theme-content');
            if (themeContent) {
                const items = themeContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.darkMode;
                items[1].querySelector('.font-size-control').childNodes[0].textContent = t.fontSize;
                items[1].querySelector('.reset-button').textContent = t.reset;
                items[2].childNodes[0].textContent = t.language;
            }
            const dataContent = document.getElementById('data-content');
            if (dataContent) {
                const items = dataContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.exportData;
                items[1].childNodes[0].textContent = t.importData;
                items[2].childNodes[0].textContent = t.resetData;
                items[3].childNodes[0].textContent = t.autoSave;
            }
            const syncContent = document.getElementById('sync-content');
            if (syncContent) {
                const items = syncContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.autoBackup;
                items[1].childNodes[0].textContent = t.manualBackup;
                items[2].childNodes[0].textContent = t.cloudSync;
                items[3].childNodes[0].textContent = t.lastSync + ': ';
            }
            const privacyContent = document.getElementById('privacy-content');
            if (privacyContent) {
                const items = privacyContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.privacyPolicy;
                items[1].childNodes[0].textContent = t.locationSettings;
                items[2].childNodes[0].textContent = t.accountSettings;
            }
            const helpContent = document.getElementById('help-content');
            if (helpContent) {
                const items = helpContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.faq;
                items[1].childNodes[0].textContent = t.contact;
                items[2].childNodes[0].textContent = t.userGuide;
                items[3].childNodes[0].textContent = t.version + ': bEtA tEsT!';
            }
            const communityHeader = document.querySelector('.community-header h2');
            if (communityHeader) communityHeader.textContent = t.communityHeader;
            const postFormButton = document.querySelector('.post-form-button');
            if (postFormButton) postFormButton.textContent = t.writePost;
            const submitPostButton = document.querySelector('.post-form button');
            if (submitPostButton) submitPostButton.textContent = t.submitPost;
            const postListHeaders = document.querySelectorAll('.post-list th');
            if (postListHeaders.length >= 5) {
                postListHeaders[0].textContent = t.postListTitle;
                postListHeaders[1].textContent = t.postListAuthor;
                postListHeaders[2].textContent = t.postListDate;
                postListHeaders[3].textContent = t.postListViews;
            }
        }

        // ÌÉ≠ Ï†ÑÌôò
        function switchTab(tab) {
            document.querySelectorAll('.main-container, .community-container, .settings-container').forEach(container => {
                container.classList.remove('active');
            });
            document.querySelectorAll('.tab-button, .mobile-tab-button').forEach(button => {
                button.classList.remove('active');
            });
            document.querySelector(`.${tab}-container`).classList.add('active');
            document.querySelector(`.tab-button[onclick="switchTab('${tab}')"]`).classList.add('active');
            document.querySelector(`.mobile-tab-button[onclick="switchTab('${tab}')"]`).classList.add('active');
        }

        // Í∏ÄÏì∞Í∏∞ Ìèº ÌëúÏãú
        function showPostForm() {
            const postForm = document.querySelector('.post-form');
            postForm.style.display = postForm.style.display === 'none' ? 'block' : 'none';
        }

        // Í≤åÏãúÍ∏Ä Ï†úÏ∂ú
        function submitPost() {
            const title = document.getElementById('post-title').value.trim();
            const author = document.getElementById('post-author').value.trim() || 'ÏùµÎ™Ö';
            const content = document.getElementById('post-content').value.trim();
            if (!title || !content) {
                alert(translations[currentLanguage].postTitle + 'Í≥º ' + translations[currentLanguage].postContent + 'ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            const posts = JSON.parse(localStorage.getItem('posts') || '[]');
            const newPost = {
                id: Date.now(),
                title,
                author,
                content,
                date: new Date().toISOString(),
                views: 0
            };
            posts.unshift(newPost);
            localStorage.setItem('posts', JSON.stringify(posts));
            document.getElementById('post-title').value = '';
            document.getElementById('post-author').value = 'ÏùµÎ™Ö';
            document.getElementById('post-content').value = '';
            showPostForm();
            loadPosts();
        }

        // Í≤åÏãúÍ∏Ä Î™©Î°ù Î°úÎìú
        function loadPosts() {
            const postListBody = document.getElementById('post-list-body');
            postListBody.innerHTML = '';
            const posts = JSON.parse(localStorage.getItem('posts') || '[]');
            posts.forEach(post => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${post.title}</td>
                    <td>${post.author}</td>
                    <td>${new Date(post.date).toLocaleDateString('ko-KR')}</td>
                    <td>${post.views}</td>
                    <td>
                        <div class="post-actions">
                            <button class="post-actions-button" onclick="togglePostActions(${post.id}, event)">‚ãÆ</button>
                            <div class="post-actions-menu" id="post-actions-${post.id}">
                                <button onclick="deletePost(${post.id})">${translations[currentLanguage].deletePost}</button>
                                <button onclick="sharePost(${post.id})">${translations[currentLanguage].sharePost}</button>
                            </div>
                        </div>
                    </td>
                `;
                row.onclick = function(e) {
                    if (!e.target.closest('.post-actions')) viewPost(post.id);
                };
                postListBody.appendChild(row);

                // ÏïÑÏΩîÎîîÏñ∏ ÏÉÅÏÑ∏ Î≥¥Í∏∞ div Ï∂îÍ∞Ä
                const detailDiv = document.createElement('div');
                detailDiv.className = 'post-detail';
                detailDiv.id = `post-detail-${post.id}`;
                detailDiv.innerHTML = `
                    <h2>${post.title}</h2>
                    <div class="meta">${translations[currentLanguage].postAuthor}: ${post.author} | ${translations[currentLanguage].postListDate}: ${new Date(post.date).toLocaleString('ko-KR')} | ${translations[currentLanguage].postListViews}: ${post.views}</div>
                    <div class="content">${post.content}</div>
                `;
                postListBody.parentElement.appendChild(detailDiv);
            });
        }

        // 3Ï†ê Î©îÎâ¥ ÌÜ†Í∏Ä
        function togglePostActions(postId, event) {
            event.stopPropagation();
            const menu = document.getElementById(`post-actions-${postId}`);
            const isActive = menu.classList.contains('active');
            document.querySelectorAll('.post-actions-menu').forEach(m => m.classList.remove('active'));
            if (!isActive) menu.classList.add('active');
        }

        // Í≤åÏãúÍ∏Ä ÏÇ≠Ï†ú
        function deletePost(postId) {
            if (!confirm(translations[currentLanguage].deleteConfirm)) return;
            let posts = JSON.parse(localStorage.getItem('posts') || '[]');
            posts = posts.filter(post => post.id !== postId);
            localStorage.setItem('posts', JSON.stringify(posts));
            loadPosts();
        }

        // Í≤åÏãúÍ∏Ä Í≥µÏú†
        function sharePost(postId) {
            try {
                const posts = JSON.parse(localStorage.getItem('posts') || '[]');
                const post = posts.find(p => p.id === postId);
                if (!post) {
                    alert(translations[currentLanguage].postNotFound);
                    return;
                }
                const shareText = `Ï†úÎ™©: ${post.title}\nÏûëÏÑ±Ïûê: ${post.author}\nÎÇ¥Ïö©: ${post.content}`;
                navigator.clipboard.writeText(shareText).then(() => {
                    alert(translations[currentLanguage].shareSuccess);
                }).catch(() => {
                    alert(translations[currentLanguage].shareError);
                });
            } catch (error) {
                console.error('Í≤åÏãúÍ∏Ä Í≥µÏú† Ïò§Î•ò:', error);
                alert(translations[currentLanguage].shareError);
            }
        }

        // ÏàòÏ†ï: Í≤åÏãúÍ∏Ä ÏÉÅÏÑ∏ Î≥¥Í∏∞ - ÌÜ†Í∏Ä Î∞è Ï°∞ÌöåÏàò Ï§ëÎ≥µ Î∞©ÏßÄ
        function viewPost(postId) {
            try {
                const detailDiv = document.getElementById(`post-detail-${postId}`);
                if (!detailDiv) {
                    alert(translations[currentLanguage].postNotFound);
                    return;
                }

                // Ïù¥ÎØ∏ Ïó¥Î†§ÏûàÎäî Í≤ΩÏö∞ Îã´Í∏∞
                if (detailDiv.classList.contains('active')) {
                    detailDiv.classList.remove('active');
                    detailDiv.style.maxHeight = null;
                    detailDiv.style.padding = '0 20px';
                    detailDiv.style.opacity = '0';
                    return;
                }

                // Î™®Îì† ÏïÑÏΩîÎîîÏñ∏ Îã´Í∏∞
                document.querySelectorAll('.post-detail').forEach(detail => {
                    detail.classList.remove('active');
                    detail.style.maxHeight = null;
                    detail.style.padding = '0 20px';
                    detail.style.opacity = '0';
                });

                // ÏÑ†ÌÉùÎêú Í≤åÏãúÍ∏Ä Ïó¥Í∏∞
                detailDiv.classList.add('active');
                detailDiv.style.maxHeight = detailDiv.scrollHeight + 'px';
                detailDiv.style.padding = '20px';
                detailDiv.style.opacity = '1';

                // Ï°∞ÌöåÏàò Ï¶ùÍ∞Ä (ÏÑ∏ÏÖòÎãπ 1Ìöå)
                const viewedKey = `viewed-${postId}`;
                if (!sessionStorage.getItem(viewedKey)) {
                    let posts = JSON.parse(localStorage.getItem('posts') || '[]');
                    const post = posts.find(p => p.id === postId);
                    if (post) {
                        post.views += 1;
                        localStorage.setItem('posts', JSON.stringify(posts));
                        sessionStorage.setItem(viewedKey, 'true');
                        loadPosts(); // Ï°∞ÌöåÏàò Î∞è ÏÉÅÏÑ∏ Î≥¥Í∏∞ ÏóÖÎç∞Ïù¥Ìä∏
                    }
                }
            } catch (error) {
                console.error('Í≤åÏãúÍ∏Ä ÏÉÅÏÑ∏ Î≥¥Í∏∞ Ïò§Î•ò:', error);
                alert(translations[currentLanguage].postNotFound);
            }
        }

        // Îã§ÌÅ¨ Î™®Îìú ÌÜ†Í∏Ä: ÌÖåÎßà Ï†ÑÌôò Î∞è Ï†ÄÏû•
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
        }

        // Ìè∞Ìä∏ ÌÅ¨Í∏∞ Î≥ÄÍ≤Ω: UI ÌÖçÏä§Ìä∏ ÌÅ¨Í∏∞ Ï°∞Ï†ï
        function changeFontSize(delta) {
            const root = document.documentElement;
            const currentSize = parseFloat(getComputedStyle(root).fontSize);
            const newSize = Math.max(12, Math.min(20, currentSize + delta));
            root.style.fontSize = `${newSize}px`;
            localStorage.setItem('fontSize', newSize);
        }

        // Ìè∞Ìä∏ ÌÅ¨Í∏∞ Ï¥àÍ∏∞Ìôî: Í∏∞Î≥∏Í∞í(16px)ÏúºÎ°ú Î≥µÏõê
        function resetFontSize() {
            document.documentElement.style.fontSize = '16px';
            localStorage.setItem('fontSize', '16');
        }

        // ÌîÑÎ°úÌïÑ ÌïÑÎìú Ìé∏Ïßë: Ïù¥Î¶Ñ, Ïù¥Î©îÏùº ÏàòÏ†ï
        function editField(fieldId) {
            const element = document.getElementById(fieldId);
            const currentValue = element.textContent;
            const input = document.createElement('input');
            input.type = 'text';
            input.value = currentValue;
            input.className = 'edit-input';
            input.onblur = function() {
                element.textContent = input.value || currentValue;
                localStorage.setItem(fieldId, input.value || currentValue);
                element„Çπ„Çø„Ç§„É´.display = 'inline';
                input.remove();
            };
            input.onkeydown = function(e) {
                if (e.key === 'Enter') input.blur();
            };
            element.style.display = 'none';
            element.parentNode.insertBefore(input, element.nextSibling);
            input.focus();
        }

        // ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú: Ïù¥ÎØ∏ÏßÄ ÎØ∏Î¶¨Î≥¥Í∏∞ Î∞è Ï†ÄÏû•
        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = document.getElementById('profile-preview');
                img.src = e.target.result;
                localStorage.setItem('profileImage', e.target.result);
            };
            reader.readAsDataURL(file);
        }

        // ÏïåÎ¶º ÏÑ§Ï†ï ÌÜ†Í∏Ä: Ìë∏Ïãú, Ïù¥Î©îÏùº, ÏãúÍ∞ÑÌëú, ÏãúÌóò ÏïåÎ¶º
        function toggleNotification(type) {
            const checkbox = document.getElementById(`${type}-notification`);
            localStorage.setItem(`${type}Notification`, checkbox.checked);
        }

        // ÏïåÎ¶ºÏùå Î≥ÄÍ≤Ω: ÏÑ†ÌÉùÎêú ÏïåÎ¶ºÏùå Ï†ÄÏû•
        function changeNotificationSound(sound) {
            localStorage.setItem('notificationSound', sound);
        }

        // ÏûêÎèô Ï†ÄÏû• ÌÜ†Í∏Ä
        function toggleAutoSave() {
            const autoSave = document.getElementById('auto-save').checked;
            localStorage.setItem('autoSave', autoSave);
        }

        // ÏûêÎèô Î∞±ÏóÖ ÌÜ†Í∏Ä
        function toggleAutoBackup() {
            const autoBackup = document.getElementById('auto-backup').checked;
            localStorage.setItem('autoBackup', autoBackup);
        }

        // ÌÅ¥ÎùºÏö∞Îìú ÎèôÍ∏∞Ìôî ÌÜ†Í∏Ä
        function toggleCloudSync() {
            const cloudSync = document.getElementById('cloud-sync').checked;
            localStorage.setItem('cloudSync', cloudSync);
            if (cloudSync) {
                document.getElementById('last-sync').textContent = new Date().toLocaleString('ko-KR');
                localStorage.setItem('lastSync', new Date().toISOString());
            }
        }

        // ÏàòÎèô Î∞±ÏóÖ: Îç∞Ïù¥ÌÑ∞ Îã§Ïö¥Î°úÎìú
        function manualBackup() {
            const data = {
                timetables,
                posts: JSON.parse(localStorage.getItem('posts') || '[]'),
                settings: {
                    darkMode: localStorage.getItem('darkMode'),
                    fontSize: localStorage.getItem('fontSize'),
                    language: localStorage.getItem('language')
                }
            };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'school-talk-backup.json';
            a.click();
            URL.revokeObjectURL(url);
            alert(translations[currentLanguage].exportSuccess);
        }

        // Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞: ÌòÑÏû¨ Îç∞Ïù¥ÌÑ∞ Îã§Ïö¥Î°úÎìú
        function exportData() {
            manualBackup();
        }

        // Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞: JSON ÌååÏùº ÏóÖÎ°úÎìú Î∞è Î≥µÏõê
        function importData(event) {
            const file = event.target.files[0];
            if (!file) return;
            if (!file.name.endsWith('.json')) {
                alert(translations[currentLanguage].importError);
                return;
            }
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    if (data.timetables) {
                        Object.assign(timetables, data.timetables);
                        loadTimetable();
                    }
                    if (data.posts) {
                        localStorage.setItem('posts', JSON.stringify(data.posts));
                        loadPosts();
                    }
                    if (data.settings) {
                        if (data.settings.darkMode) {
                            localStorage.setItem('darkMode', data.settings.darkMode);
                            if (data.settings.darkMode === 'true') {
                                document.body.classList.add('dark-mode');
                            } else {
                                document.body.classList.remove('dark-mode');
                            }
                        }
                        if (data.settings.fontSize) {
                            document.documentElement.style.fontSize = `${data.settings.fontSize}px`;
                            localStorage.setItem('fontSize', data.settings.fontSize);
                        }
                        if (data.settings.language) {
                            changeLanguage(data.settings.language);
                        }
                    }
                    alert(translations[currentLanguage].importSuccess);
                } catch (error) {
                    console.error('Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞ Ïò§Î•ò:', error);
                    alert(translations[currentLanguage].importInvalid);
                }
            };
            reader.readAsText(file);
        }

        // Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî: Î™®Îì† Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú
        function resetData() {
            if (!confirm(translations[currentLanguage].confirmReset)) return;
            localStorage.clear();
            Object.keys(timetables).forEach(school => {
                timetables[school] = {
                    "1Î∞ò": Array(timetableCells.length).fill(""),
                    "2Î∞ò": Array(timetableCells.length).fill(""),
                    "3Î∞ò": Array(timetableCells.length).fill(""),
                    "4Î∞ò": Array(timetableCells.length).fill("")
                };
            });
            loadTimetable();
            loadPosts();
            document.documentElement.style.fontSize = '16px';
            document.body.classList.remove('dark-mode');
            document.getElementById('profile-preview').src = '';
            document.getElementById('user-name').textContent = 'ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ';
            document.getElementById('user-email').textContent = 'user@example.com';
            changeLanguage('ko');
        }

        // ÏÑ§Ï†ï Î≥µÏõê: Ï†ÄÏû•Îêú ÏÑ§Ï†ï Ï†ÅÏö©
        function restoreSettings() {
            const fontSize = localStorage.getItem('fontSize');
            if (fontSize) document.documentElement.style.fontSize = `${fontSize}px`;

            const language = localStorage.getItem('language');
            if (language) changeLanguage(language);

            const notifications = ['push', 'email', 'timetable', 'exam'];
            notifications.forEach(type => {
                const enabled = localStorage.getItem(`${type}Notification`) === 'true';
                document.getElementById(`${type}-notification`).checked = enabled;
            });

            const notificationSound = localStorage.getItem('notificationSound') || 'default';
            document.querySelector('.notification-sound').value = notificationSound;

            const autoSave = localStorage.getItem('autoSave') === 'true';
            document.getElementById('auto-save').checked = autoSave;

            const autoBackup = localStorage.getItem('autoBackup') === 'true';
            document.getElementById('auto-backup').checked = autoBackup;

            const cloudSync = localStorage.getItem('cloudSync') === 'true';
            document.getElementById('cloud-sync').checked = cloudSync;

            const lastSync = localStorage.getItem('lastSync');
            if (lastSync) {
                document.getElementById('last-sync').textContent = new Date(lastSync).toLocaleString('ko-KR');
            }
        }

        // ÏïÑÏΩîÎîîÏñ∏ ÏÑ§Ï†ï Î©îÎâ¥ ÌÜ†Í∏Ä: ÏÑ§Ï†ï ÌéòÏù¥ÏßÄÏùò ÏïÑÏΩîÎîîÏñ∏ ÎèôÏûë
        document.querySelectorAll('.settings-item').forEach(item => {
            item.addEventListener('click', function() {
                const section = this.dataset.section;
                const content = document.getElementById(`${section}-content`);
                const isActive = content.classList.contains('active');

                // Î™®Îì† ÏïÑÏΩîÎîîÏñ∏ Îã´Í∏∞
                document.querySelectorAll('.accordion-content').forEach(c => {
                    c.classList.remove('active');
                    c.style.maxHeight = null;
                });
                document.querySelectorAll('.settings-item').forEach(i => {
                    i.classList.remove('active');
                });

                // ÏÑ†ÌÉùÎêú ÏïÑÏΩîÎîîÏñ∏ Ïó¥Í∏∞
                if (!isActive) {
                    this.classList.add('active');
                    content.classList.add('active');
                    content.style.maxHeight = content.scrollHeight + 'px';
                }
            });
        });

        // ÎèÑÏõÄÎßê Í¥ÄÎ†® Ìï®Ïàò: ÎØ∏Íµ¨ÌòÑ ÏïåÎ¶º
        function showTerms() {
            alert('Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë¬∑Ïù¥Ïö© ÎèôÏùòÏÑú: `Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë‚àôÏù¥Ïö© ÎèôÏùòÏÑú

ÌöåÏÇ¨Î™Ö: ToCive
ToCive(Ïù¥Ìïò "ÌöåÏÇ¨")Îäî Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏Î≤ïÏóê Îî∞Îùº Í≥†Í∞ùÏùò Í∞úÏù∏Ï†ïÎ≥¥Î•º ÏïàÏ†ÑÌïòÍ≤å Í¥ÄÎ¶¨ÌïòÍ≥†Ïûê ÏïÑÎûòÏôÄ Í∞ôÏù¥ Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë‚àôÏù¥Ïö©Ïóê ÎåÄÌïú ÎèôÏùòÎ•º Î∞õÍ≥†Ïûê Ìï©ÎãàÎã§.

1. Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë‚àôÏù¥Ïö© Î™©Ï†Å
- ÏÑúÎπÑÏä§ Ï†úÍ≥µ Î∞è ÌöåÏõê Í¥ÄÎ¶¨
- Í≥†Í∞ù Î¨∏Ïùò Î∞è ÎØºÏõê Ï≤òÎ¶¨
- ÏÑúÎπÑÏä§ Í∞úÏÑ† Î∞è ÎßûÏ∂§Ìòï ÏÑúÎπÑÏä§ Ï†úÍ≥µ
- Î≤ïÏ†Å ÏùòÎ¨¥ Ï§ÄÏàò

2. ÏàòÏßëÌïòÎäî Í∞úÏù∏Ï†ïÎ≥¥ Ìï≠Î™©
- ÌïÑÏàòÌï≠Î™©: Ïù¥Î¶Ñ, Ïó∞ÎùΩÏ≤ò, Ïù¥Î©îÏùº Ï£ºÏÜå
- ÏÑ†ÌÉùÌï≠Î™©: ÏÉùÎÖÑÏõîÏùº, Ï£ºÏÜå

3. Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ïú† Î∞è Ïù¥Ïö© Í∏∞Í∞Ñ
- ÏàòÏßëÎêú Í∞úÏù∏Ï†ïÎ≥¥Îäî ÏàòÏßë‚àôÏù¥Ïö© Î™©Ï†ÅÏù¥ Îã¨ÏÑ±Îêú ÌõÑ ÏßÄÏ≤¥ ÏóÜÏù¥ ÌååÍ∏∞Ìï©ÎãàÎã§.
- Îã®, Í¥ÄÍ≥Ñ Î≤ïÎ†πÏóê Îî∞Îùº Î≥¥Ï°¥Ïù¥ ÌïÑÏöîÌïú Í≤ΩÏö∞ Ìï¥Îãπ Î≤ïÎ†πÏóêÏÑú Ï†ïÌïú Í∏∞Í∞Ñ ÎèôÏïà Î≥¥Í¥ÄÌï©ÎãàÎã§.

4. Í∞úÏù∏Ï†ïÎ≥¥ Ï†ú3Ïûê Ï†úÍ≥µ
- ÌöåÏÇ¨Îäî Í≥†Í∞ùÏùò Í∞úÏù∏Ï†ïÎ≥¥Î•º Ï†ú3ÏûêÏóêÍ≤å Ï†úÍ≥µÌïòÏßÄ ÏïäÏäµÎãàÎã§.
- Îã®, Í≥†Í∞ùÏùò ÏÇ¨Ï†Ñ ÎèôÏùòÎ•º Î∞õÏùÄ Í≤ΩÏö∞ ÎòêÎäî Î≤ïÎ†πÏóê Îî∞Î•∏ Í≤ΩÏö∞ ÏòàÏô∏Î°ú Ìï©ÎãàÎã§.

5. Í∞úÏù∏Ï†ïÎ≥¥ Ï≤òÎ¶¨ ÏúÑÌÉÅ
- ÌöåÏÇ¨Îäî ÏÑúÎπÑÏä§ Ï†úÍ≥µÏùÑ ÏúÑÌï¥ ÏïÑÎûòÏôÄ Í∞ôÏùÄ ÏóÖÎ¨¥Î•º Ïô∏Î∂ÄÏóê ÏúÑÌÉÅÌï† Ïàò ÏûàÏúºÎ©∞, ÏúÑÌÉÅÎ∞õÏùÄ ÏóÖÏ≤¥Îäî Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏Î≤ïÏóê Îî∞Îùº Í∞úÏù∏Ï†ïÎ≥¥Î•º ÏïàÏ†ÑÌïòÍ≤å Ï≤òÎ¶¨Ìï† ÏùòÎ¨¥Î•º Í∞ÄÏßëÎãàÎã§.
- ÏúÑÌÉÅÏóÖÏ≤¥: (Ìï¥Îãπ Ïãú Í∏∞Ïû¨ ÏòàÏ†ï)
- ÏúÑÌÉÅÏóÖÎ¨¥: (Ìï¥Îãπ Ïãú Í∏∞Ïû¨ ÏòàÏ†ï)

6. ÎèôÏùò Í±∞Î∂Ä Í∂åÎ¶¨ Î∞è Î∂àÏù¥Ïùµ
- Í≥†Í∞ùÏùÄ Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë‚àôÏù¥Ïö©Ïóê ÎåÄÌïú ÎèôÏùòÎ•º Í±∞Î∂ÄÌï† Í∂åÎ¶¨Í∞Ä ÏûàÏúºÎ©∞, ÎèôÏùòÎ•º Í±∞Î∂ÄÌï† Í≤ΩÏö∞ ÏÑúÎπÑÏä§ Ïù¥Ïö©Ïóê Ï†úÌïúÏù¥ ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§.

7. Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏ Ï±ÖÏûÑÏûê
- ÏÑ±Î™Ö: (ÏßÄÏÑúÏ§Ä)
- ÏßÅÏ±Ö: (CEO, COO)
- Ïó∞ÎùΩÏ≤ò: (010-4862-7350), (seojunji62@gmail.com)

ÏÑúÎπÑÏä§Î•º Ïù¥Ïö©Ìï®ÏúºÎ°úÏÑú ÏúÑ ÎÇ¥Ïö©ÏùÑ Ï∂©Î∂ÑÌûà Ïù¥Ìï¥ÌïòÏòÄÏúºÎ©∞, Ïù¥Ïóê ÎèôÏùòÌïòÎäîÍ≤ÉÏúºÎ°ú Í∞ÑÏ£ºÌï©ÎãàÎã§.');
        }
        function showLocationSettings() {
            alert('ÏúÑÏπò Ï†ïÎ≥¥ ÏÑ§Ï†ï: Íµ¨ÌòÑ ÏòàÏ†ï');
        }
        function showAccountSettings() {
            alert('Í≥ÑÏ†ï Ï†ïÎ≥¥ Í¥ÄÎ¶¨: Íµ¨ÌòÑ ÏòàÏ†ï');
        }
        function showFAQ() {
            alert('ÏûêÏ£º Ï∞æÎäî ÎèÑÏõÄÎßê: Íµ¨ÌòÑ ÏòàÏ†ï');
        }
        function showContact() {
            alert('Î¨∏ÏùòÌïòÍ∏∞: seounji62@gmail.com/010-4862-7350');
        }
        function showUserGuide() {
            alert('ÏÇ¨Ïö© Í∞ÄÏù¥Îìú: Íµ¨ÌòÑ ÏòàÏ†ï');
        }

        // Î¨∏ÏÑú Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú 3Ï†ê Î©îÎâ¥ Îã´Í∏∞
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.post-actions')) {
                document.querySelectorAll('.post-actions-menu').forEach(menu => {
                    menu.classList.remove('active');
                });
            }
        });

        // ÌïôÍµê Î™©Î°ù
        const schools = [
            "Í∞ÄÎùΩÏ§ëÌïôÍµê", "Í∞ÄÏÇ∞Ï§ëÌïôÍµê", "Í∞ÄÏõêÏ§ëÌïôÍµê", "Í∞ÄÏû¨Ïö∏Ï§ëÌïôÍµê", "Í∞ïÎÇ®Ï§ëÌïôÍµê", "Í∞ïÎèôÏ§ëÌïôÍµê", "Í∞ïÎ™ÖÏ§ëÌïôÍµê", "Í∞ïÎ∂ÅÏ§ëÌïôÍµê", "Í∞ïÎπõÏ§ëÌïôÍµê", "Í∞ïÏã†Ï§ëÌïôÍµê",
            "Í∞ïÏùºÏ§ëÌïôÍµê", "Í∞ïÌòÑÏ§ëÌïôÍµê", "Í∞úÎ¥âÏ§ëÌïôÍµê", "Í∞úÏö¥Ï§ëÌïôÍµê", "Í∞úÏõÖÏ§ëÌïôÍµê", "Í∞úÏõêÏ§ëÌïôÍµê", "Í∞úÌè¨Ï§ëÌïôÍµê", "Í±∞ÏõêÏ§ëÌïôÍµê", "Í±¥Íµ≠ÎåÄÌïôÍµê ÏÇ¨Î≤îÎåÄÌïô Î∂ÄÏÜçÏ§ëÌïôÍµê", "Í≤ΩÏÑúÏ§ëÌïôÍµê"
        ];

        // ÌïôÍµê ÌïÑÌÑ∞ÎßÅ
        function filterSchools() {
            const input = document.getElementById('search-input').value.toLowerCase();
            const schoolList = document.getElementById('school-list');
            schoolList.innerHTML = '';
            schools.filter(school => school.toLowerCase().includes(input)).forEach(school => {
                const option = document.createElement('a');
                option.href = "#";
                option.textContent = school;
                option.onclick = function(e) {
                    e.preventDefault();
                    selectSchool(school);
                    schoolList.innerHTML = '';
                    document.getElementById('search-input').value = school;
                };
                schoolList.appendChild(option);
            });
        }

        // ÌïôÍµê ÏÑ†ÌÉù
        function selectSchool(school) {
            currentSchool = school;
            if (!timetables[school]) {
                timetables[school] = {
                    "1Î∞ò": Array(timetableCells.length).fill(""),
                    "2Î∞ò": Array(timetableCells.length).fill(""),
                    "3Î∞ò": Array(timetableCells.length).fill(""),
                    "4Î∞ò": Array(timetableCells.length).fill("")
                };
            }
            loadTimetable();
        }

        // ÏãúÍ∞ÑÌëú Î°úÎìú
        function loadTimetable() {
            if (currentSchool && timetables[currentSchool]) {
                timetableCells.forEach((cell, index) => {
                    cell.innerText = timetables[currentSchool][currentClass][index];
                });
            }
        }

        // Î∞ò Î≥ÄÍ≤Ω
        function switchClass(newClass) {
            if (currentSchool) {
                timetableCells.forEach((cell, index) => {
                    timetables[currentSchool][currentClass][index] = cell.innerText;
                });
            }
            currentClass = newClass;
            loadTimetable();
        }

        // Îã¨Î†• ÏÉùÏÑ±
        function createCalendar(year, month) {
            const calendarBody = document.getElementById('calendar-body');
            calendarBody.innerHTML = '';
            const firstDay = new Date(year, month - 1, 1).getDay();
            const lastDate = new Date(year, month, 0).getDate();
            let date = 1;
            for (let i = 0; i < 6; i++) {
                const row = document.createElement('tr');
                for (let j = 0; j < 7; j++) {
                    const cell = document.createElement('td');
                    if (i === 0 && j < firstDay || date > lastDate) {
                        row.appendChild(cell);
                        continue;
                    }
                    cell.innerHTML = `
                        <div class="date-number">${date}</div>
                        <textarea class="memo" placeholder="Î©îÎ™®" onblur="saveMemo(${year}, ${month}, ${date}, this.value)"></textarea>
                    `;
                    const savedMemo = localStorage.getItem(`memo-${year}-${month}-${date}`);
                    if (savedMemo) cell.querySelector('.memo').value = savedMemo;
                    row.appendChild(cell);
                    date++;
                }
                calendarBody.appendChild(row);
                if (date > lastDate) break;
            }
        }

        // Î©îÎ™® Ï†ÄÏû•
        function saveMemo(year, month, date, value) {
            localStorage.setItem(`memo-${year}-${month}-${date}`, value);
        }

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        window.addEventListener('load', function() {
            changeLanguage('ko');
            createCalendar(2025, 4);
            loadPosts();
            restoreSettings();
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
            }
            const savedProfileImage = localStorage.getItem('profileImage');
            if (savedProfileImage) {
                document.getElementById('profile-preview').src = savedProfileImage;
            }
            const savedUserName = localStorage.getItem('user-name');
            const savedUserEmail = localStorage.getItem('user-email');
            if (savedUserName) document.getElementById('user-name').textContent = savedUserName;
            if (savedUserEmail) document.getElementById('user-email').textContent = savedUserEmail;
        });
    </script>
</body>
</html>
