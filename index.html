<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shool Talk Talk</title>
    <!-- ìŠ¤íƒ€ì¼ì‹œíŠ¸: ì „ì²´ ë ˆì´ì•„ì›ƒ, ë‹¤í¬ ëª¨ë“œ, ë°˜ì‘í˜• ë””ìì¸, ì•„ì½”ë””ì–¸ ë° ë“œë¡­ë‹¤ìš´ ë©”ë‰´ -->
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            min-height: 100vh;
            background-color: #ffffff;
            color: #333333;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode {
            background-color: #1a1a1a;
            color: #ffffff;
        }
        .vertical-tabs {
            width: 60px;
            background-color: #f5f5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            transition: background-color 0.3s;
        }
        body.dark-mode .vertical-tabs {
            background-color: #2b2b2b;
        }
        .tab-button {
            width: 40px;
            height: 40px;
            margin-bottom: 10px;
            border: none;
            border-radius: 8px;
            background-color: #e0e0e0;
            color: #333333;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s, color 0.2s;
        }
        body.dark-mode .tab-button {
            background-color: #3f3f3f;
            color: #ffffff;
        }
        .tab-button:hover {
            background-color: #d0d0d0;
        }
        body.dark-mode .tab-button:hover {
            background-color: #4f4f4f;
        }
        .tab-button.active {
            background-color: #0078d4;
            color: #ffffff;
        }
        .content-area {
            flex: 1;
            padding: 20px;
            background-color: #f5f5f5;
            transition: background-color 0.3s;
        }
        body.dark-mode .content-area {
            background-color: #2b2b2b;
        }
        .main-container, .community-container, .settings-container {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: background-color 0.3s;
        }
        body.dark-mode .main-container,
        body.dark-mode .community-container,
        body.dark-mode .settings-container {
            background-color: #333333;
        }
        .main-container.active,
        .community-container.active,
        .settings-container.active {
            display: block;
        }
        .settings-profile {
            padding: 20px;
            background-color: #fff;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode .settings-profile {
            background-color: #333;
            color: #fff;
        }
        .profile-image {
            width: 60px;
            height: 60px;
            background-color: #e1e1e1;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        .profile-image input[type="file"] {
            display: none;
        }
        .profile-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .profile-info h2, .profile-info p {
            color: inherit;
            margin: 0;
        }
        .settings-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .settings-item {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1.1em;
            font-weight: 500;
        }
        body.dark-mode .settings-item {
            border-bottom: 1px solid #444;
        }
        .settings-item:hover {
            background-color: #f8f8f8;
        }
        body.dark-mode .settings-item:hover {
            background-color: #444;
        }
        .settings-item .accordion-toggle {
            color: #666;
            font-size: 1.2em;
            transition: transform 0.3s, color 0.3s;
        }
        body.dark-mode .settings-item .accordion-toggle {
            color: #aaa;
        }
        .settings-item.active .accordion-toggle {
            transform: rotate(90deg);
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            background-color: #f9f9f9;
            padding: 0 20px;
        }
        body.dark-mode .accordion-content {
            background-color: #2a2a2a;
        }
        .accordion-content.active {
            padding: 15px 20px;
        }
        .accordion-content ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .accordion-content li {
            padding: 10px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 0.95em;
        }
        .community-container {
            padding: 20px;
        }
        .community-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .post-form {
            background-color: #fff;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        body.dark-mode .post-form {
            background-color: #333;
        }
        .post-form input, .post-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
            color: inherit;
            background-color: #fff;
            transition: border-color 0.3s, background-color 0.3s;
        }
        body.dark-mode .post-form input,
        body.dark-mode .post-form textarea {
            border-color: #555;
            background-color: #2a2a2a;
        }
        .post-form textarea {
            resize: vertical;
            min-height: 100px;
        }
        .post-form button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #0078d4;
            color: #fff;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .post-form button:hover {
            background-color: #005ea2;
        }
        .post-list table {
            width: 100%;
            border-collapse: collapse;
        }
        .post-list th, .post-list td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            text-align: left;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode .post-list th,
        body.dark-mode .post-list td {
            border-bottom: 1px solid #444;
        }
        .post-list th {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        body.dark-mode .post-list th {
            background-color: #333;
        }
        .post-list tr:hover {
            background-color: #f8f8f8;
            cursor: pointer;
        }
        body.dark-mode .post-list tr:hover {
            background-color: #444;
        }
        .post-actions {
            position: relative;
            display: inline-block;
        }
        .post-actions-button {
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            color: #333;
        }
        body.dark-mode .post-actions-button {
            color: #fff;
        }
        .post-actions-menu {
            display: none;
            position: absolute;
            right: 0;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 100;
        }
        body.dark-mode .post-actions-menu {
            background-color: #333;
            border-color: #555;
        }
        .post-actions-menu.active {
            display: block;
        }
        .post-actions-menu button {
            display: block;
            width: 100%;
            padding: 10px 15px;
            border: none;
            background: none;
            text-align: left;
            cursor: pointer;
            color: #333;
        }
        body.dark-mode .post-actions-menu button {
            color: #fff;
        }
        .post-actions-menu button:hover {
            background-color: #f8f8f8;
        }
        body.dark-mode .post-actions-menu button:hover {
            background-color: #444;
        }
        .post-detail-row {
            display: none;
        }
        .post-detail-row.active {
            display: table-row;
        }
        .post-detail-content {
            padding: 20px;
            background-color: #fff;
            border-bottom: 1px solid #eee;
            transition: max-height 0.3s ease-out;
        }
        body.dark-mode .post-detail-content {
            background-color: #333;
            border-bottom: 1px solid #444;
        }
        .post-detail-content h2 {
            margin-top: 0;
        }
        .post-detail-content .meta {
            color: #666;
            margin-bottom: 15px;
        }
        body.dark-mode .post-detail-content .meta {
            color: #aaa;
        }
        .post-detail-content .content {
            white-space: pre-wrap;
        }
        .main-container {
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
            gap: 20px;
            display: none;
        }
        .main-container.active {
            display: flex;
        }
        .settings-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            display: none;
        }
        body.dark-mode .settings-container {
            background-color: #333333;
        }
        .settings-container.active {
            display: block;
        }
        .left-container, .right-container {
            flex: 1;
            min-width: 400px;
        }
        .right-container {
            padding-top: 60px;
        }
        .top-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
            height: 40px;
        }
        .search-container {
            position: relative;
            flex: 1;
        }
        #search-input {
            width: 100%;
            padding: 8px;
            font-size: 14px;
        }
        #class-select {
            padding: 8px;
            font-size: 14px;
        }
        #school-list {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            max-height: 300px;
            overflow-y: auto;
            background: white;
            border: 1px solid #ddd;
            border-top: none;
            z-index: 1000;
        }
        #school-list a {
            display: block;
            padding: 8px;
            text-decoration: none;
            color: black;
        }
        #school-list a:hover {
            background-color: #f0f0f0;
        }
        .timetable, .calendar {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
            height: 700px;
        }
        .timetable thead th, .calendar thead th {
            height: 40px;
            padding: 8px;
            text-align: center;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            font-weight: bold;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        body.dark-mode .timetable thead th,
        body.dark-mode .calendar thead th {
            background-color: #333;
            color: #fff;
            border-color: #555;
        }
        .timetable tbody td {
            height: calc((700px - 40px) / 7);
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        body.dark-mode .timetable tbody td {
            background-color: #2a2a2a;
            color: #fff;
            border-color: #444;
        }
        .calendar tbody td {
            height: calc((700px - 40px) / 6);
            border: 1px solid #ddd;
            vertical-align: top;
            width: calc(100% / 7);
            padding: 0;
            position: relative;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        body.dark-mode .calendar tbody td {
            background-color: #2a2a2a;
            color: #fff;
            border-color: #444;
        }
        .calendar .date-number {
            padding: 5px;
            font-weight: bold;
            background-color: #f5f5f5;
            margin-bottom: 5px;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode .calendar .date-number {
            background-color: #333;
            color: #fff;
        }
        .calendar .memo {
            padding: 5px;
            height: calc(100% - 30px);
            width: 100%;
            box-sizing: border-box;
            border: none;
            resize: none;
            font-family: inherit;
            font-size: inherit;
            background: transparent;
            color: inherit;
            transition: background-color 0.3s, color 0.3s;
        }
        .calendar .memo:focus {
            outline: none;
            background-color: #f8f8f8;
        }
        body.dark-mode .calendar .memo:focus {
            background-color: #333;
        }
        .timetable td[contenteditable="true"] {
            background-color: #fff;
            cursor: text;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode .timetable td[contenteditable="true"] {
            background-color: #2a2a2a;
            color: #fff;
        }
        .timetable td[contenteditable="true"]:hover {
            background-color: #f8f8f8;
        }
        body.dark-mode .timetable td[contenteditable="true"]:hover {
            background-color: #333;
        }
        .timetable td[contenteditable="true"]:focus {
            outline: 2px solid #007bff;
            outline-offset: -2px;
        }
        body.dark-mode .timetable td[contenteditable="true"]:focus {
            outline-color: #0078d4;
        }
        .profile-edit {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        .edit-button {
            background: none;
            border: none;
            color: #0078d4;
            cursor: pointer;
            font-size: 1.2em;
        }
        .edit-input {
            border: 1px solid #ddd;
            padding: 5px;
            border-radius: 4px;
            width: 200px;
        }
        .font-size-control {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
        }
        .font-size-button {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: none;
            cursor: pointer;
            color: inherit;
        }
        body.dark-mode .font-size-button {
            border-color: #555;
        }
        .reset-button {
            margin-left: auto;
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: none;
            cursor: pointer;
            color: #0078d4;
        }
        body.dark-mode .reset-button {
            border-color: #555;
        }
        .terms-container {
            max-height: 400px;
            overflow-y: auto;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            margin: 10px 0;
        }
        body.dark-mode .terms-container {
            background-color: #2a2a2a;
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .toggle-slider {
            background-color: #0078d4;
        }
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        .language-select, .notification-sound {
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #ddd;
            background-color: white;
            color: inherit;
        }
        body.dark-mode .language-select,
        body.dark-mode .notification-sound {
            background-color: #333;
            border-color: #555;
        }
        .data-import input[type="file"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
            color: inherit;
        }
        body.dark-mode .data-import input[type="file"] {
            background-color: #333;
            border-color: #555;
        }
        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media screen and (max-width: 768px) {
            body {
                flex-direction: column;
                padding-bottom: 100px;
            }
            .vertical-tabs {
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 80px;
                background-color: #f5f5f5;
                display: flex;
                flex-direction: row;
                justify-content: space-around;
                align-items: center;
                padding: 0;
                z-index: 1000;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            }
            body.dark-mode .vertical-tabs {
                background-color: #2b2b2b;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.3);
            }
            .tab-button {
                width: 60px;
                height: 60px;
                margin: 0;
                border-radius: 50%;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                font-size: 24px;
            }
            .content-area {
                padding: 10px;
                padding-bottom: 90px;
            }
            .main-container {
                flex-direction: column;
            }
            .left-container, .right-container {
                min-width: 100%;
                margin-bottom: 20px;
            }
            .top-controls {
                flex-direction: column;
                gap: 10px;
                height: auto;
            }
            .search-container {
                width: 100%;
            }
            #class-select {
                width: 100%;
                padding: 10px;
            }
            .timetable, .calendar {
                height: auto;
                min-height: 300px;
            }
            .timetable tbody td {
                height: 50px;
                font-size: 12px;
                padding: 4px;
            }
            .calendar tbody td {
                height: 80px;
            }
            .settings-container {
                max-width: 100%;
            }
            .post-list th:nth-child(4), .post-list td:nth-child(4),
            .post-list th:nth-child(5), .post-list td:nth-child(5) {
                display: none;
            }
            .post-form input, .post-form textarea {
                font-size: 14px;
            }
            .post-actions-menu {
                right: -10px;
            }
        }
        @media screen and (min-width: 769px) and (max-width: 1024px) {
            .main-container {
                flex-direction: column;
            }
            .left-container, .right-container {
                min-width: 100%;
                margin-bottom: 20px;
            }
            .timetable, .calendar {
                height: 500px;
            }
            .settings-container, .community-container {
                max-width: 90%;
            }
        }
        @media screen and (min-width: 1025px) {
            .main-container {
                flex-direction: row;
            }
            .left-container, .right-container {
                min-width: 400px;
            }
            .timetable, .calendar {
                height: 700px;
            }
        }
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #0078d4;
            color: white;
            border: none;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        @media screen and (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }
            .vertical-tabs {
                display: none;
            }
            .vertical-tabs.active {
                display: flex;
            }
        }
        .mobile-bottom-tabs {
            display: none;
        }
        @media screen and (max-width: 768px) {
            .mobile-bottom-tabs {
                display: flex;
            }
            .content-area {
                padding-bottom: 100px;
            }
        }
    </style>
</head>
<body>
    <!-- ì™¼ìª½ ì„¸ë¡œ íƒ­: ë©”ì¸, ì»¤ë®¤ë‹ˆí‹°, ì„¤ì • íƒ­ -->
    <div class="vertical-tabs">
        <button class="tab-button active" onclick="switchTab('main')" title="ì‹œê°„í‘œ">ğŸ“…</button>
        <button class="tab-button" onclick="switchTab('community')" title="ì»¤ë®¤ë‹ˆí‹°">ğŸ“‹</button>
        <button class="tab-button" onclick="switchTab('settings')" title="ì„¤ì •">âš™ï¸</button>
    </div>
    <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
    <div class="content-area">
        <!-- ë©”ì¸ í˜ì´ì§€: ì‹œê°„í‘œì™€ ë‹¬ë ¥ -->
        <div class="main-container active">
            <div class="left-container">
                <div class="top-controls">
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="í•™êµ ê²€ìƒ‰" oninput="filterSchools()">
                        <div id="school-list"></div>
                    </div>
                    <select id="class-select" onchange="switchClass(this.value)">
                        <option value="1ë°˜">1ë°˜</option>
                        <option value="2ë°˜">2ë°˜</option>
                        <option value="3ë°˜">3ë°˜</option>
                        <option value="4ë°˜">4ë°˜</option>
                    </select>
                </div>
                <table class="timetable">
                    <thead>
                        <tr>
                            <th>êµì‹œ</th>
                            <th>ì›”</th>
                            <th>í™”</th>
                            <th>ìˆ˜</th>
                            <th>ëª©</th>
                            <th>ê¸ˆ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1êµì‹œ</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>2êµì‹œ</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>3êµì‹œ</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>4êµì‹œ</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>5êµì‹œ</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>6êµì‹œ</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                        <tr><td>7êµì‹œ</td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td><td contenteditable="true"></td></tr>
                    </tbody>
                </table>
            </div>
            <div class="right-container">
                <table class="calendar">
                    <thead>
                        <tr>
                            <th>ì¼</th>
                            <th>ì›”</th>
                            <th>í™”</th>
                            <th>ìˆ˜</th>
                            <th>ëª©</th>
                            <th>ê¸ˆ</th>
                            <th>í† </th>
                        </tr>
                    </thead>
                    <tbody id="calendar-body"></tbody>
                </table>
            </div>
        </div>
        <!-- ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€: ê²Œì‹œê¸€ ëª©ë¡, ì‘ì„± í¼ -->
        <div class="community-container">
            <div class="community-header">
                <h2>ì»¤ë®¤ë‹ˆí‹°</h2>
                <button class="post-form-button" onclick="showPostForm()">ê¸€ì“°ê¸°</button>
            </div>
            <div class="post-form" style="display: none;">
                <input type="text" id="post-title" placeholder="ì œëª©">
                <input type="text" id="post-author" placeholder="ì‘ì„±ì (ê¸°ë³¸: ìµëª…)" value="ìµëª…">
                <textarea id="post-content" placeholder="ë‚´ìš©"></textarea>
                <button onclick="submitPost()">ê²Œì‹œ</button>
            </div>
            <div class="post-list">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 45%;">ì œëª©</th>
                            <th style="width: 20%;">ì‘ì„±ì</th>
                            <th style="width: 20%;">ì‘ì„±ì¼</th>
                            <th style="width: 10%;">ì¡°íšŒìˆ˜</th>
                            <th style="width: 5%;"></th>
                        </tr>
                    </thead>
                    <tbody id="post-list-body"></tbody>
                </table>
            </div>
        </div>
        <!-- ì„¤ì • í˜ì´ì§€: í”„ë¡œí•„, ì•Œë¦¼, í…Œë§ˆ, ë°ì´í„° ê´€ë¦¬ ë“± -->
        <div class="settings-container">
            <div class="settings-profile">
                <div class="profile-image" onclick="document.getElementById('profile-image-input').click()">
                    <input type="file" id="profile-image-input" accept="image/*" onchange="handleImageUpload(event)">
                    <img id="profile-preview" src="" alt="í”„ë¡œí•„ ì´ë¯¸ì§€">
                </div>
                <div class="profile-info">
                    <h2>
                        <span id="user-name">ì‚¬ìš©ì ì´ë¦„</span>
                        <button class="edit-button" onclick="editField('user-name')">âœï¸</button>
                    </h2>
                    <p>
                        <span id="user-email">user@example.com</span>
                        <button class="edit-button" onclick="editField('user-email')">âœï¸</button>
                    </p>
                </div>
            </div>
            <div class="main-settings">
                <ul class="settings-list">
                    <li class="settings-item" data-section="notifications">
                        ì•Œë¦¼ ì„¤ì •
                        <i class="accordion-toggle">â€º</i>
                        <div class="accordion-content" id="notifications-content">
                            <ul>
                                <li>
                                    í‘¸ì‹œ ì•Œë¦¼
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="push-notification" onchange="toggleNotification('push')">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>
                                    ì´ë©”ì¼ ì•Œë¦¼
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="email-notification" onchange="toggleNotification('email')">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>
                                    ì‹œê°„í‘œ ë³€ê²½ ì•Œë¦¼
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="timetable-notification" onchange="toggleNotification('timetable')">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>
                                    ì‹œí—˜ ì¼ì • ì•Œë¦¼
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="exam-notification" onchange="toggleNotification('exam')">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>
                                    ì•Œë¦¼ìŒ ì„¤ì •
                                    <select class="notification-sound" onchange="changeNotificationSound(this.value)">
                                        <option value="default">ê¸°ë³¸ ì•Œë¦¼ìŒ</option>
                                        <option value="bell">ë²¨ ì†Œë¦¬</option>
                                        <option value="chime">ì°¨ì„ë²¨</option>
                                        <option value="ding">ë”©ë™</option>
                                    </select>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="theme">
                        í…Œë§ˆ ì„¤ì •
                        <i class="accordion-toggle">â€º</i>
                        <div class="accordion-content" id="theme-content">
                            <ul>
                                <li onclick="toggleDarkMode()">ë‹¤í¬ëª¨ë“œ ì „í™˜</li>
                                <li>
                                    <div class="font-size-control">
                                        í°íŠ¸ í¬ê¸°
                                        <button class="font-size-button" onclick="changeFontSize(-1)">A-</button>
                                        <button class="font-size-button" onclick="changeFontSize(1)">A+</button>
                                        <button class="reset-button" onclick="resetFontSize()">ì´ˆê¸°í™”</button>
                                    </div>
                                </li>
                                <li>
                                    ì–¸ì–´ ì„¤ì •
                                    <select class="language-select" onchange="changeLanguage(this.value)">
                                        <option value="ko">í•œêµ­ì–´</option>
                                        <option value="en">English</option>
                                        <option value="ja">æ—¥æœ¬èª</option>
                                        <option value="zh">ä¸­æ–‡</option>
                                    </select>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="data">
                        ë°ì´í„° ê´€ë¦¬
                        <i class="accordion-toggle">â€º</i>
                        <div class="accordion-content" id="data-content">
                            <ul>
                                <li onclick="exportData()">ë°ì´í„° ë‚´ë³´ë‚´ê¸°</li>
                                <li class="data-import">
                                    ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                                    <input type="file" id="import-data" accept=".json" onchange="importData(event)">
                                </li>
                                <li onclick="resetData()">ë°ì´í„° ì´ˆê¸°í™”</li>
                                <li>
                                    ìë™ ì €ì¥
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="auto-save" onchange="toggleAutoSave()">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="sync">
                        ë°±ì—… ë° ë™ê¸°í™”
                        <i class="accordion-toggle">â€º</i>
                        <div class="accordion-content" id="sync-content">
                            <ul>
                                <li>
                                    ìë™ ë°±ì—…
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="auto-backup" onchange="toggleAutoBackup()">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li onclick="manualBackup()">ìˆ˜ë™ ë°±ì—…</li>
                                <li>
                                    í´ë¼ìš°ë“œ ë™ê¸°í™”
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="cloud-sync" onchange="toggleCloudSync()">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </li>
                                <li>ë§ˆì§€ë§‰ ë™ê¸°í™”: <span id="last-sync">-</span></li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="privacy">
                        ê°œì¸ì •ë³´ ì„¤ì •
                        <i class="accordion-toggle">â€º</i>
                        <div class="accordion-content" id="privacy-content">
                            <ul>
                                <li onclick="showTerms()">ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜ì„œ</li>
                                <li onclick="showLocationSettings()">ìœ„ì¹˜ ì •ë³´ ì„¤ì •</li>
                                <li onclick="showAccountSettings()">ê³„ì • ì •ë³´ ê´€ë¦¬</li>
                            </ul>
                        </div>
                    </li>
                    <li class="settings-item" data-section="help">
                        ë„ì›€ë§
                        <i class="accordion-toggle">â€º</i>
                        <div class="accordion-content" id="help-content">
                            <ul>
                                <li onclick="showFAQ()">ìì£¼ ì°¾ëŠ” ë„ì›€ë§</li>
                                <li onclick="showContact()">ë¬¸ì˜í•˜ê¸°</li>
                                <li onclick="showUserGuide()">ì‚¬ìš© ê°€ì´ë“œ</li>
                                <li>ë²„ì „ ì •ë³´: bEtA tEsT!</li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- ëª¨ë°”ì¼ í•˜ë‹¨ íƒ­ -->
    <div class="mobile-bottom-tabs">
        <button class="mobile-tab-button active" onclick="switchTab('main')" title="ì‹œê°„í‘œ">ğŸ“…</button>
        <button class="mobile-tab-button" onclick="switchTab('community')" title="ì»¤ë®¤ë‹ˆí‹°">ğŸ“‹</button>
        <button class="mobile-tab-button" onclick="switchTab('settings')" title="ì„¤ì •">âš™ï¸</button>
    </div>
    <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸: ê¸°ëŠ¥ êµ¬í˜„ -->
    <script>
        // ë²ˆì—­ ë°ì´í„°: ë‹¤êµ­ì–´ ì§€ì›ì„ ìœ„í•œ í…ìŠ¤íŠ¸ ì •ì˜
        const translations = {
            ko: {
                timetable: "ì‹œê°„í‘œ",
                community: "ì»¤ë®¤ë‹ˆí‹°",
                settings: "ì„¤ì •",
                searchPlaceholder: "í•™êµ ê²€ìƒ‰",
                classSelect: "ë°˜ ì„ íƒ",
                notifications: "ì•Œë¦¼ ì„¤ì •",
                theme: "í…Œë§ˆ ì„¤ì •",
                data: "ë°ì´í„° ê´€ë¦¬",
                sync: "ë°±ì—… ë° ë™ê¸°í™”",
                privacy: "ê°œì¸ì •ë³´ ì„¤ì •",
                help: "ë„ì›€ë§",
                pushNotification: "í‘¸ì‹œ ì•Œë¦¼",
                emailNotification: "ì´ë©”ì¼ ì•Œë¦¼",
                timetableNotification: "ì‹œê°„í‘œ ë³€ê²½ ì•Œë¦¼",
                examNotification: "ì‹œí—˜ ì¼ì • ì•Œë¦¼",
                notificationSound: "ì•Œë¦¼ìŒ ì„¤ì •",
                defaultSound: "ê¸°ë³¸ ì•Œë¦¼ìŒ",
                bellSound: "ë²¨ ì†Œë¦¬",
                chimeSound: "ì°¨ì„ë²¨",
                dingSound: "ë”©ë™",
                darkMode: "ë‹¤í¬ëª¨ë“œ ì „í™˜",
                fontSize: "í°íŠ¸ í¬ê¸°",
                language: "ì–¸ì–´ ì„¤ì •",
                reset: "ì´ˆê¸°í™”",
                exportData: "ë°ì´í„° ë‚´ë³´ë‚´ê¸°",
                importData: "ë°ì´í„° ê°€ì ¸ì˜¤ê¸°",
                resetData: "ë°ì´í„° ì´ˆê¸°í™”",
                autoSave: "ìë™ ì €ì¥",
                confirmReset: "ëª¨ë“  ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
                autoBackup: "ìë™ ë°±ì—…",
                manualBackup: "ìˆ˜ë™ ë°±ì—…",
                cloudSync: "í´ë¼ìš°ë“œ ë™ê¸°í™”",
                lastSync: "ë§ˆì§€ë§‰ ë™ê¸°í™”",
                backupComplete: "ë°ì´í„° ë³µì›ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.",
                privacyPolicy: "ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜ì„œ",
                locationSettings: "ìœ„ì¹˜ ì •ë³´ ì„¤ì •",
                accountSettings: "ê³„ì • ì •ë³´ ê´€ë¦¬",
                faq: "ìì£¼ ì°¾ëŠ” ë„ì›€ë§",
                contact: "ë¬¸ì˜í•˜ê¸°",
                userGuide: "ì‚¬ìš© ê°€ì´ë“œ",
                version: "ë²„ì „ ì •ë³´",
                communityHeader: "ì»¤ë®¤ë‹ˆí‹°",
                writePost: "ê¸€ì“°ê¸°",
                postTitle: "ì œëª©",
                postContent: "ë‚´ìš©",
                postAuthor: "ì‘ì„±ì (ê¸°ë³¸: ìµëª…)",
                submitPost: "ê²Œì‹œ",
                postListTitle: "ì œëª©",
                postListAuthor: "ì‘ì„±ì",
                postListDate: "ì‘ì„±ì¼",
                postListViews: "ì¡°íšŒìˆ˜",
                deletePost: "ì‚­ì œ",
                sharePost: "ê³µìœ ",
                exportSuccess: "ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë‚´ë³´ë‚´ì¡ŒìŠµë‹ˆë‹¤.",
                importSuccess: "ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ì¡ŒìŠµë‹ˆë‹¤.",
                importError: "ì˜ëª»ëœ íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤. JSON íŒŒì¼ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.",
                importInvalid: "ìœ íš¨í•˜ì§€ ì•Šì€ ë°ì´í„° í˜•ì‹ì…ë‹ˆë‹¤.",
                postNotFound: "ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
                deleteConfirm: "ì´ ê²Œì‹œê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                shareSuccess: "ê²Œì‹œê¸€ ë‚´ìš©ì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.",
                shareError: "ê³µìœ ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
            }
        };

        // í˜„ì¬ ì–¸ì–´ ì„¤ì • ë³€ìˆ˜
        let currentLanguage = 'ko';

        // ì–¸ì–´ ë³€ê²½: ì„ íƒëœ ì–¸ì–´ë¡œ UI í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        function changeLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('language', lang);
            updateTranslations();
            const languageSelect = document.querySelector('.language-select');
            if (languageSelect) {
                languageSelect.value = lang;
            }
        }

        // UI ë²ˆì—­ ì—…ë°ì´íŠ¸: ì„ íƒëœ ì–¸ì–´ì— ë”°ë¼ í…ìŠ¤íŠ¸ ì ìš©
        function updateTranslations() {
            const t = translations[currentLanguage];
            document.querySelector('.tab-button[onclick="switchTab(\'main\')"]').title = t.timetable;
            document.querySelector('.tab-button[onclick="switchTab(\'community\')"]').title = t.community;
            document.querySelector('.tab-button[onclick="switchTab(\'settings\')"]').title = t.settings;
            document.getElementById('search-input').placeholder = t.searchPlaceholder;
            document.getElementById('post-title').placeholder = t.postTitle;
            document.getElementById('post-author').placeholder = t.postAuthor;
            document.getElementById('post-content').placeholder = t.postContent;
            const settingsItems = document.querySelectorAll('.settings-item');
            settingsItems.forEach(item => {
                const section = item.dataset.section;
                if (section && t[section]) {
                    item.childNodes[0].textContent = t[section];
                }
            });
            const notificationsContent = document.getElementById('notifications-content');
            if (notificationsContent) {
                const items = notificationsContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.pushNotification;
                items[1].childNodes[0].textContent = t.emailNotification;
                items[2].childNodes[0].textContent = t.timetableNotification;
                items[3].childNodes[0].textContent = t.examNotification;
                items[4].childNodes[0].textContent = t.notificationSound;
                const soundSelect = items[4].querySelector('select');
                soundSelect.options[0].textContent = t.defaultSound;
                soundSelect.options[1].textContent = t.bellSound;
                soundSelect.options[2].textContent = t.chimeSound;
                soundSelect.options[3].textContent = t.dingSound;
            }
            const themeContent = document.getElementById('theme-content');
            if (themeContent) {
                const items = themeContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.darkMode;
                items[1].querySelector('.font-size-control').childNodes[0].textContent = t.fontSize;
                items[1].querySelector('.reset-button').textContent = t.reset;
                items[2].childNodes[0].textContent = t.language;
            }
            const dataContent = document.getElementById('data-content');
            if (dataContent) {
                const items = dataContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.exportData;
                items[1].childNodes[0].textContent = t.importData;
                items[2].childNodes[0].textContent = t.resetData;
                items[3].childNodes[0].textContent = t.autoSave;
            }
            const syncContent = document.getElementById('sync-content');
            if (syncContent) {
                const items = syncContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.autoBackup;
                items[1].childNodes[0].textContent = t.manualBackup;
                items[2].childNodes[0].textContent = t.cloudSync;
                items[3].childNodes[0].textContent = t.lastSync + ': ';
            }
            const privacyContent = document.getElementById('privacy-content');
            if (privacyContent) {
                const items = privacyContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.privacyPolicy;
                items[1].childNodes[0].textContent = t.locationSettings;
                items[2].childNodes[0].textContent = t.accountSettings;
            }
            const helpContent = document.getElementById('help-content');
            if (helpContent) {
                const items = helpContent.querySelectorAll('li');
                items[0].childNodes[0].textContent = t.faq;
                items[1].childNodes[0].textContent = t.contact;
                items[2].childNodes[0].textContent = t.userGuide;
                items[3].childNodes[0].textContent = t.version + ': bEtA tEsT!';
            }
            const communityHeader = document.querySelector('.community-header h2');
            if (communityHeader) communityHeader.textContent = t.communityHeader;
            const postFormButton = document.querySelector('.post-form-button');
            if (postFormButton) postFormButton.textContent = t.writePost;
            const submitPostButton = document.querySelector('.post-form button');
            if (submitPostButton) submitPostButton.textContent = t.submitPost;
            const postListHeaders = document.querySelectorAll('.post-list th');
            if (postListHeaders.length >= 5) {
                postListHeaders[0].textContent = t.postListTitle;
                postListHeaders[1].textContent = t.postListAuthor;
                postListHeaders[2].textContent = t.postListDate;
                postListHeaders[3].textContent = t.postListViews;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.addEventListener('load', function() {
            changeLanguage('ko'); // ê¸°ë³¸ ì–¸ì–´: í•œêµ­ì–´
            createCalendar(2025, 4); // 2025ë…„ 5ì›” ë‹¬ë ¥ ìƒì„±
            loadPosts(); // ê²Œì‹œê¸€ ëª©ë¡ ë¡œë“œ
            restoreSettings(); // ì €ì¥ëœ ì„¤ì • ë³µì›
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
            }
            const savedProfileImage = localStorage.getItem('profileImage');
            if (savedProfileImage) {
                document.getElementById('profile-preview').src = savedProfileImage;
            }
            const savedUserName = localStorage.getItem('user-name');
            const savedUserEmail = localStorage.getItem('user-email');
            if (savedUserName) document.getElementById('user-name').textContent = savedUserName;
            if (savedUserEmail) document.getElementById('user-email').textContent = savedUserEmail;
        });

        // í•™êµ ëª©ë¡: ì„œìš¸ì‹œ ì¤‘í•™êµ ë°ì´í„°
        const schools = [
            "ê°€ë½ì¤‘í•™êµ", "ê°€ì‚°ì¤‘í•™êµ", "ê°€ì›ì¤‘í•™êµ", "ê°€ì¬ìš¸ì¤‘í•™êµ", "ê°•ë‚¨ì¤‘í•™êµ", "ê°•ë™ì¤‘í•™êµ", "ê°•ëª…ì¤‘í•™êµ", "ê°•ë¶ì¤‘í•™êµ", "ê°•ë¹›ì¤‘í•™êµ", "ê°•ì‹ ì¤‘í•™êµ", "ê°•ì¼ì¤‘í•™êµ", "ê°•í˜„ì¤‘í•™êµ", "ê°œë´‰ì¤‘í•™êµ", "ê°œìš´ì¤‘í•™êµ", "ê°œì›…ì¤‘í•™êµ", "ê°œì›ì¤‘í•™êµ", "ê°œí¬ì¤‘í•™êµ", "ê±°ì›ì¤‘í•™êµ", "ê±´êµ­ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì†ì¤‘í•™êµ", "ê²½ì„œì¤‘í•™êµ", "ê²½ì„±ì¤‘í•™êµ", "ê²½ìˆ˜ì¤‘í•™êµ", "ê²½ì‹ ì¤‘í•™êµ", "ê²½ì›ì¤‘í•™êµ", "ê²½ì¸ì¤‘í•™êµ", "ê²½ì¼ì¤‘í•™êµ", "ê²½í¬ì—¬ìì¤‘í•™êµ", "ê²½í¬ì¤‘í•™êµ", "ê³ ë•ì¤‘í•™êµ", "ê³ ë ¤ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì†ì¤‘í•™êµ", "ê³ ëª…ì¤‘í•™êµ", "ê³ ì²™ì¤‘í•™êµ", "ê³µë¦‰ì¤‘í•™êµ", "ê³µí•­ì¤‘í•™êµ", "ê´€ì•…ì¤‘í•™êµ", "ê´‘ë‚¨ì¤‘í•™êµ", "ê´‘ì„±ì¤‘í•™êµ", "ê´‘ì‹ ì¤‘í•™êµ", "ê´‘ì–‘ì¤‘í•™êµ", "ê´‘ìš´ì¤‘í•™êµ", "ê´‘ì¥ì¤‘í•™êµ", "ê´‘ì§„ì¤‘í•™êµ", "ê´‘í¬ì¤‘í•™êµ", "êµ¬ë¡œì¤‘í•™êµ", "êµ¬ë£¡ì¤‘í•™êµ", "êµ¬ì‚°ì¤‘í•™êµ", "êµ¬ì•”ì¤‘í•™êµ", "êµ¬ì˜ì¤‘í•™êµ", "êµ¬ì¼ì¤‘í•™êµ", "êµ­ì‚¬ë´‰ì¤‘í•™êµ", "ê¸ˆì˜¥ì¤‘í•™êµ", "ê¸ˆí˜¸ì—¬ìì¤‘í•™êµ", "ê¸¸ìŒì¤‘í•™êµ", "ë‚œê³¡ì¤‘í•™êµ", "ë‚œìš°ì¤‘í•™êµ", "ë‚¨ê°•ì¤‘í•™êµ", "ë‚¨ëŒ€ë¬¸ì¤‘í•™êµ", "ë‚¨ì„œìš¸ì¤‘í•™êµ", "ë‚¨ì„±ì¤‘í•™êµ", "ë‚´ê³¡ì¤‘í•™êµ", "ë…¸ê³¡ì¤‘í•™êµ", "ë…¸ì›ì¤‘í•™êµ", "ë…¸ì¼ì¤‘í•™êµ", "ë…¹ì²œì¤‘í•™êµ", "ë‹¨êµ­ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì†ì¤‘í•™êµ", "ë‹¹ê³¡ì¤‘í•™êµ", "ë‹¹ì‚°ì„œì¤‘í•™êµ", "ë‹¹ì‚°ì¤‘í•™êµ", "ëŒ€ê²½ì¤‘í•™êµ", "ëŒ€ê´‘ì¤‘í•™êµ", "ëŒ€ë¦¼ì¤‘í•™êµ", "ëŒ€ëª…ì¤‘í•™êµ", "ëŒ€ë°©ì¤‘í•™êµ", "ëŒ€ì„±ì¤‘í•™êµ", "ëŒ€ì‹ ì¤‘í•™êµ", "ëŒ€ì˜ì¤‘í•™êµ", "ëŒ€ì™•ì¤‘í•™êµ", "ëŒ€ì›êµ­ì œì¤‘í•™êµ", "ëŒ€ì²­ì¤‘í•™êµ", "ëŒ€ì¹˜ì¤‘í•™êµ", "ë•ì‚°ì¤‘í•™êµ", "ë•ì„±ì—¬ìì¤‘í•™êµ", "ë•ìˆ˜ì¤‘í•™êµ", "ë•ì›ì¤‘í•™êµ", "ë„ê³¡ì¤‘í•™êµ", "ë„ë´‰ì¤‘í•™êµ", "ë™êµ¬ì—¬ìì¤‘í•™êµ", "ë™êµ­ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì† ê°€ëŒì¤‘í•™êµ", "ë™êµ­ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì†ì¤‘í•™êµ", "ë™ëŒ€ë¬¸ì¤‘í•™êµ", "ë™ë•ì—¬ìì¤‘í•™êµ", "ë™ë„ì¤‘í•™êµ", "ë™ë§ˆì¤‘í•™êµ", "ë™ëª…ì—¬ìì¤‘í•™êµ", "ë™ë¶ì¤‘í•™êµ", "ë™ì„±ì¤‘í•™êµ", "ë™ì‹ ì¤‘í•™êµ", "ë™ì–‘ì¤‘í•™êµ", "ë™ì›ì¤‘í•™êµ", "ë™ì¼ì¤‘í•™êµ", "ë™ì‘ì¤‘í•™êµ", "ë‘”ì´Œì¤‘í•™êµ", "ë“±ëª…ì¤‘í•™êµ", "ë“±ì›ì¤‘í•™êµ", "ë“±ì´Œì¤‘í•™êµ", "ë§ˆê³¡ì¤‘í•™êµ", "ë§ˆê³¡í•˜ëŠ¬ì¤‘í•™êµ", "ë§ˆì¥ì¤‘í•™êµ", "ë§ˆí¬ì¤‘í•™êµ", "ë©´ëª©ì¤‘í•™êµ", "ëª…ë•ì—¬ìì¤‘í•™êµ", "ëª…ì¼ì¤‘í•™êµ", "ëª…ì§€ì¤‘í•™êµ", "ëª©ë™ì¤‘í•™êµ", "ëª©ìš´ì¤‘í•™êµ", "ëª©ì¼ì¤‘í•™êµ", "ë¬´í•™ì¤‘í•™êµ", "ë¬¸ë˜ì¤‘í•™êµ", "ë¬¸ì„±ì¤‘í•™êµ", "ë¬¸ì¼ì¤‘í•™êµ", "ë¬¸ì •ì¤‘í•™êµ", "ë¬¸ì°½ì¤‘í•™êµ", "ë¬¸í˜„ì¤‘í•™êµ", "ë¯¸ì„±ì¤‘í•™êµ", "ë°˜í¬ì¤‘í•™êµ", "ë°©ë°°ì¤‘í•™êµ", "ë°©ì‚°ì¤‘í•™êµ", "ë°©ì›ì¤‘í•™êµ", "ë°©ì´ì¤‘í•™êµ", "ë°©í•™ì¤‘í•™êµ", "ë°©í™”ì¤‘í•™êµ", "ë°°ëª…ì¤‘í•™êµ", "ë°°ë¬¸ì¤‘í•™êµ", "ë°°ì¬ì¤‘í•™êµ", "ë°°í™”ì—¬ìì¤‘í•™êµ", "ë°±ì„ì¤‘í•™êµ", "ë°±ìš´ì¤‘í•™êµ", "ë²ˆë™ì¤‘í•™êµ", "ë³´ì„±ì—¬ìì¤‘í•™êµ", "ë³´ì„±ì¤‘í•™êµ", "ë³´ì¸ì¤‘í•™êµ", "ë´‰ë¦¼ì¤‘í•™êµ", "ë´‰ì˜ì—¬ìì¤‘í•™êµ", "ë´‰ì›ì¤‘í•™êµ", "ë´‰ì€ì¤‘í•™êµ", "ë´‰í™”ì¤‘í•™êµ", "ë¶ì„œìš¸ì¤‘í•™êµ", "ë¶ì•…ì¤‘í•™êµ", "ë¶ˆê´‘ì¤‘í•™êµ", "ë¶ˆì•”ì¤‘í•™êµ", "ì‚¬ë‹¹ì¤‘í•™êµ", "ì‚¼ê°ì‚°ì¤‘í•™êµ", "ì‚¼ì„ ì¤‘í•™êµ", "ì‚¼ì„±ì¤‘í•™êµ", "ì‚¼ì •ì¤‘í•™êµ", "ìƒê²½ì¤‘í•™êµ", "ìƒê³„ì œì¼ì¤‘í•™êµ", "ìƒê³„ì¤‘í•™êµ", "ìƒë„ì¤‘í•™êµ", "ìƒëª…ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì†ì—¬ìì¤‘í•™êµ", "ìƒëª…ì¤‘í•™êµ", "ìƒë´‰ì¤‘í•™êµ", "ìƒì‹ ì¤‘í•™êµ", "ìƒì•”ì¤‘í•™êµ", "ìƒì›ì¤‘í•™êµ", "ìƒì¼ì¤‘í•™êµ", "ìƒí˜„ì¤‘í•™êµ", "ì„œë¼ë²Œì¤‘í•™êµ", "ì„œë¬¸ì—¬ìì¤‘í•™êµ", "ì„œì—°ì¤‘í•™êµ", "ì„œìš´ì¤‘í•™êµ", "ì„œìš¸ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì„¤ì—¬ìì¤‘í•™êµ", "ì„œìš¸ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì„¤ì¤‘í•™êµ", "ì„œìš¸ë¬¸ì˜ì—¬ìì¤‘í•™êµ", "ì„œìš¸ì—¬ìì¤‘í•™êµ", "ì„œìš¸ì²´ìœ¡ì¤‘í•™êµ", "ì„œì¼ì¤‘í•™êµ", "ì„œì´ˆì¤‘í•™êµ", "ì„ê´€ì¤‘í•™êµ", "ì„ì´Œì¤‘í•™êµ", "ì„ ë•ì¤‘í•™êµ", "ì„ ë¦°ì¤‘í•™êµ", "ì„ ìœ ì¤‘í•™êµ", "ì„ ì¼ì—¬ìì¤‘í•™êµ", "ì„ ì •ì¤‘í•™êµ", "ì„±ë‚¨ì¤‘í•™êµ", "ì„±ë‚´ì¤‘í•™êµ", "ì„±ë•ì—¬ìì¤‘í•™êµ", "ì„±ë³´ì¤‘í•™êµ", "ì„±ì‚¬ì¤‘í•™êµ", "ì„±ì‚°ì¤‘í•™êµ", "ì„±ì„œì¤‘í•™êµ", "ì„±ìˆ˜ì¤‘í•™êµ", "ì„±ì‹ ì—¬ìì¤‘í•™êµ", "ì„±ì‹¬ì—¬ìì¤‘í•™êµ", "ì„±ì•”ì—¬ìì¤‘í•™êµ", "ì„±ì›ì¤‘í•™êµ", "ì„±ì¼ì¤‘í•™êµ", "ì„±ì¬ì¤‘í•™êµ", "ì„¸ê³¡ì¤‘í•™êµ", "ì„¸ë¥œì¤‘í•™êµ", "ì„¸ì¼ì¤‘í•™êµ", "ì„¸í™”ì—¬ìì¤‘í•™êµ", "ì†”ìƒ˜ì¤‘í•™êµ", "ì†¡ê³¡ì¤‘í•™êµ", "ì†¡ë¡€ì¤‘í•™êµ", "ì†¡ì •ì¤‘í•™êµ", "ì†¡íŒŒì¤‘í•™êµ", "ìˆ˜ë½ì¤‘í•™êµ", "ìˆ˜ëª…ì¤‘í•™êµ", "ìˆ˜ì„œì¤‘í•™êµ", "ìˆ˜ì†¡ì¤‘í•™êµ", "ìˆ˜ìœ ì¤‘í•™êµ", "ìˆ™ëª…ì—¬ìì¤‘í•™êµ", "ìˆ­ê³¡ì¤‘í•™êµ", "ìˆ­ë¬¸ì¤‘í•™êµ", "ìˆ­ì‹¤ì¤‘í•™êµ", "ìˆ­ì˜ì—¬ìì¤‘í•™êµ", "ìˆ­ì¸ì¤‘í•™êµ", "ì‹œí¥ì¤‘í•™êµ", "ì‹ ê´€ì¤‘í•™êµ", "ì‹ ê´‘ì—¬ìì¤‘í•™êµ", "ì‹ êµ¬ì¤‘í•™êµ", "ì‹ ê¸¸ì¤‘í•™êµ", "ì‹ ë‚¨ì¤‘í•™êµ", "ì‹ ë„ë¦¼ì¤‘í•™êµ", "ì‹ ë„ë´‰ì¤‘í•™êµ", "ì‹ ë„ì¤‘í•™êµ", "ì‹ ë™ì¤‘í•™êµ", "ì‹ ë¦¼ì¤‘í•™êµ", "ì‹ ëª…ì¤‘í•™êµ", "ì‹ ëª©ì¤‘í•™êµ", "ì‹ ë°˜í¬ì¤‘í•™êµ", "ì‹ ë°©í•™ì¤‘í•™êµ", "ì‹ ì‚¬ì¤‘í•™êµ", "ì‹ ìƒì¤‘í•™êµ", "ì‹ ì„œì¤‘í•™êµ", "ì‹ ìˆ˜ì¤‘í•™êµ", "ì‹ ì•”ì¤‘í•™êµ", "ì‹ ì–‘ì¤‘í•™êµ", "ì‹ ì—°ì¤‘í•™êµ", "ì‹ ì›ì¤‘í•™êµ", "ì‹ ì›”ì¤‘í•™êµ", "ì‹ ì¼ì¤‘í•™êµ", "ì‹ ì •ì—¬ìì¤‘í•™êµ", "ì‹ ì°½ì¤‘í•™êµ", "ì‹ ì²œì¤‘í•™êµ", "ì‹ í˜„ì¤‘í•™êµ", "ì‹ í™”ì¤‘í•™êµ", "ì•„ì£¼ì¤‘í•™êµ", "ì•„í˜„ì¤‘í•™êµ", "ì•ˆì²œì¤‘í•™êµ", "ì••êµ¬ì •ì¤‘í•™êµ", "ì–‘ê°•ì¤‘í•™êµ", "ì–‘ë™ì¤‘í•™êµ", "ì–‘ì„œì¤‘í•™êµ", "ì–‘ì •ì¤‘í•™êµ", "ì–‘ì§„ì¤‘í•™êµ", "ì–‘ì²œì¤‘í•™êµ", "ì–‘í™”ì¤‘í•™êµ", "ì–¸ë‚¨ì¤‘í•™êµ", "ì–¸ë¶ì¤‘í•™êµ", "ì–¸ì£¼ì¤‘í•™êµ", "ì—¬ì˜ë„ì¤‘í•™êµ", "ì—­ì‚¼ì¤‘í•™êµ", "ì—°ë¶ì¤‘í•™êµ", "ì—°ì„œì¤‘í•™êµ", "ì—°ì‹ ì¤‘í•™êµ", "ì—°ì²œì¤‘í•™êµ", "ì—°í¬ì¤‘í•™êµ", "ì—¼ê²½ì¤‘í•™êµ", "ì—¼ê´‘ì¤‘í•™êµ", "ì—¼ì°½ì¤‘í•™êµ", "ì˜ë‚¨ì¤‘í•™êµ", "ì˜ë„ì¤‘í•™êµ", "ì˜ë™ì¤‘í•™êµ", "ì˜ë“±í¬ì¤‘í•™êµ", "ì˜ë½ì¤‘í•™êµ", "ì˜ë€ì—¬ìì¤‘í•™êµ", "ì˜ë¦¼ì¤‘í•™êµ", "ì˜ì„œì¤‘í•™êµ", "ì˜ì›ì¤‘í•™êµ", "ì˜íŒŒì—¬ìì¤‘í•™êµ", "ì˜í›ˆêµ­ì œì¤‘í•™êµ", "ì˜ˆì¼ì—¬ìì¤‘í•™êµ", "ì˜¤ê¸ˆì¤‘í•™êµ", "ì˜¤ë‚¨ì¤‘í•™êµ", "ì˜¤ë¥˜ì¤‘í•™êµ", "ì˜¤ë¥œì¤‘í•™êµ", "ì˜¤ì‚°ì¤‘í•™êµ", "ì˜¤ì£¼ì¤‘í•™êµ", "ì˜¥ì •ì¤‘í•™êµ", "ì˜¨ê³¡ì¤‘í•™êµ", "ìš©ê°•ì¤‘í•™êµ", "ìš©ê³¡ì¤‘í•™êµ", "ìš©ë§ˆì¤‘í•™êµ", "ìš©ë¬¸ì¤‘í•™êµ", "ìš©ì‚°ì¤‘í•™êµ", "ìš°ì‹ ì¤‘í•™êµ", "ìœ„ë¡€ì†”ì¤‘í•™êµ", "ì›ë¬µì¤‘í•™êµ", "ì›ì´Œì¤‘í•™êµ", "ì›”ê³„ì¤‘í•™êµ", "ì›”ê³¡ì¤‘í•™êµ", "ì›”ì´Œì¤‘í•™êµ", "ìœ¤ì¤‘ì¤‘í•™êµ", "ì€ì„±ì¤‘í•™êµ", "ì€í‰ì¤‘í•™êµ", "ì„ì§€ì¤‘í•™êµ", "ì´ìˆ˜ì¤‘í•™êµ", "ì´í™”ì—¬ìëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì† ì´í™”Â·ê¸ˆë€ì¤‘í•™êµ", "ì¸ìˆ˜ì¤‘í•™êµ", "ì¸ì™•ì¤‘í•™êµ", "ì¸ì°½ì¤‘í•™êµ", "ì¸í—Œì¤‘í•™êµ", "ì¼ì‹ ì—¬ìì¤‘í•™êµ", "ìì–‘ì¤‘í•™êµ", "ì ì‹ ì¤‘í•™êµ", "ì ì‹¤ì¤‘í•™êµ", "ì¥ìŠ¹ì¤‘í•™êµ", "ì¥ì•ˆì¤‘í•™êµ", "ì¥ì›ì¤‘í•™êµ", "ì¥ìœ„ì¤‘í•™êµ", "ì¥ì¶©ì¤‘í•™êµ", "ì¥í‰ì¤‘í•™êµ", "ì¬í˜„ì¤‘í•™êµ", "ì „ë†ì¤‘í•™êµ", "ì „ë™ì¤‘í•™êµ", "ì „ì¼ì¤‘í•™êµ", "ì •ì‹ ì—¬ìì¤‘í•™êµ", "ì •ì›ì—¬ìì¤‘í•™êµ", "ì •ì˜ì—¬ìì¤‘í•™êµ", "ì •í™”ì—¬ìì¤‘í•™êµ", "ì¢…ì•”ì¤‘í•™êµ", "ì¤‘ê³„ì¤‘í•™êµ", "ì¤‘ë™ì¤‘í•™êµ", "ì¤‘ë‘ì¤‘í•™êµ", "ì¤‘ì•”ì¤‘í•™êµ", "ì¤‘ì•™ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì†ì¤‘í•™êµ", "ì¤‘ì•™ì—¬ìì¤‘í•™êµ", "ì¤‘ì•™ì¤‘í•™êµ", "ì¤‘ì›ì¤‘í•™êµ", "ì¤‘í‰ì¤‘í•™êµ", "ì¤‘í™”ì¤‘í•™êµ", "ì¦ì‚°ì¤‘í•™êµ", "ì§„ê´€ì¤‘í•™êµ", "ì§„ì„ ì—¬ìì¤‘í•™êµ", "ì°½ë•ì—¬ìì¤‘í•™êµ", "ì°½ë™ì¤‘í•™êµ", "ì°½ë¬¸ì—¬ìì¤‘í•™êµ", "ì°½ë¶ì¤‘í•™êµ", "ì°½ì¼ì¤‘í•™êµ", "ì°½ì²œì¤‘í•™êµ", "ì²œì™•ì¤‘í•™êµ", "ì²œì¼ì¤‘í•™êµ", "ì²œí˜¸ì¤‘í•™êµ", "ì²­ë‹´ì¤‘í•™êµ", "ì²­ëŸ‰ì¤‘í•™êµ", "ì²­ìš´ì¤‘í•™êµ", "ì²­ì›ì¤‘í•™êµ", "ì¶©ì•”ì¤‘í•™êµ", "í•˜ê³„ì¤‘í•™êµ", "í•œê°•ì¤‘í•™êµ", "í•œì‚°ì¤‘í•™êµ", "í•œì„±ì—¬ìì¤‘í•™êµ", "í•œì„±ì¤‘í•™êµ", "í•œì–‘ëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì†ì¤‘í•™êµ", "í•œì–‘ì¤‘í•™êµ", "í•œì˜ì¤‘í•™êµ", "í•œìš¸ì¤‘í•™êµ", "í•œì²œì¤‘í•™êµ", "í•­ë™ì¤‘í•™êµ", "í•´ëˆ„ë¦¬ì¤‘í•™êµ", "í–‰ë‹¹ì¤‘í•™êµ", "íœ˜ì›ì—¬ìì¤‘í•™êµ", "í™ì€ì¤‘í•™êµ", "í™ìµëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì†ì—¬ìì¤‘í•™êµ", "í™ìµëŒ€í•™êµ ì‚¬ë²”ëŒ€í•™ ë¶€ì†ì¤‘í•™êµ", "í™”ê³„ì¤‘í•™êµ", "í™”ê³¡ì¤‘í•™êµ", "í™”ì›ì¤‘í•™êµ", "í™˜ì¼ì¤‘í•™êµ", "íš¨ë¬¸ì¤‘í•™êµ", "íœ˜ê²½ì—¬ìì¤‘í•™êµ", "íœ˜ê²½ì¤‘í•™êµ", "íœ˜ë¬¸ì¤‘í•™êµ"
        ];

        // ì‹œê°„í‘œ ë° í•™êµ ì„ íƒ ë³€ìˆ˜
        const schoolList = document.getElementById('school-list');
        const timetableCells = document.querySelectorAll('.timetable td[contenteditable="true"]');
        let currentClass = "1ë°˜";
        let currentSchool = "";
        const timetables = {};

        // í•™êµ ì„ íƒ: ì„ íƒëœ í•™êµì˜ ì‹œê°„í‘œ ì´ˆê¸°í™”
        function selectSchool(school) {
            currentSchool = school;
            if (!timetables[school]) {
                timetables[school] = {
                    "1ë°˜": Array(timetableCells.length).fill(""),
                    "2ë°˜": Array(timetableCells.length).fill(""),
                    "3ë°˜": Array(timetableCells.length).fill(""),
                    "4ë°˜": Array(timetableCells.length).fill("")
                };
            }
            loadTimetable();
        }

        // ì‹œê°„í‘œ ë¡œë“œ: í˜„ì¬ í•™êµì™€ ë°˜ì˜ ì‹œê°„í‘œ í‘œì‹œ
        function loadTimetable() {
            if (currentSchool && timetables[currentSchool]) {
                timetableCells.forEach((cell, index) => {
                    cell.innerText = timetables[currentSchool][currentClass][index];
                });
            }
        }

        // ë°˜ ë³€ê²½: í˜„ì¬ ì‹œê°„í‘œ ì €ì¥ í›„ ìƒˆ ë°˜ìœ¼ë¡œ ì „í™˜
        function switchClass(newClass) {
            if (currentSchool) {
                timetableCells.forEach((cell, index) => {
                    timetables[currentSchool][currentClass][index] = cell.innerText;
                });
            }
            currentClass = newClass;
            loadTimetable();
        }

        // í•™êµ ëª©ë¡ ìƒì„±: ê²€ìƒ‰ ê°€ëŠ¥í•œ í•™êµ ëª©ë¡ ì¶”ê°€
        schools.forEach(school => {
            const option = document.createElement('a');
            option.href = "#";
            option.textContent = school;
            option.onclick = function(e) {
                e.preventDefault();
                document.getElementById("search-input").value = school;
                schoolList.style.display = "none";
                selectSchool(school);
            };
            schoolList.appendChild(option);
        });

        // ì‹œê°„í‘œ ì…ë ¥ ì²˜ë¦¬: ì…ë ¥ëœ ë‚´ìš© ì €ì¥
        timetableCells.forEach(cell => {
            cell.addEventListener('blur', function() {
                if (currentSchool) {
                    const index = Array.from(timetableCells).indexOf(cell);
                    timetables[currentSchool][currentClass][index] = cell.innerText;
                }
            });
        });

        // í•™êµ ê²€ìƒ‰: ì…ë ¥ì— ë”°ë¼ í•™êµ ëª©ë¡ í•„í„°ë§
        function filterSchools() {
            const input = document.getElementById("search-input");
            const filter = input.value.toLowerCase();
            const options = schoolList.getElementsByTagName("a");
            if (filter === "") {
                schoolList.style.display = "none";
                return;
            }
            schoolList.style.display = "block";
            let visible = false;
            for (let i = 0; i < options.length; i++) {
                const option = options[i];
                const text = option.textContent || option.innerText;
                if (text.toLowerCase().includes(filter)) {
                    option.style.display = "block";
                    visible = true;
                } else {
                    option.style.display = "none";
                }
            }
            if (!visible) {
                schoolList.style.display = "none";
            }
        }

        // ë‹¬ë ¥ ìƒì„±: ì§€ì •ëœ ì—°ë„ì™€ ì›”ë¡œ ë‹¬ë ¥ ìƒì„±
        function createCalendar(year = 2025, month = 4) {
            const calendarBody = document.getElementById('calendar-body');
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDay = firstDay.getDay();
            const totalDays = lastDay.getDate();
            let date = 1;
            let calendar = '';
            for (let i = 0; i < 6; i++) {
                let row = '<tr>';
                for (let j = 0; j < 7; j++) {
                    const cellIndex = i * 7 + j;
                    if (cellIndex < startDay || date > totalDays) {
                        row += '<td><div class="date-number"></div><textarea class="memo" data-date=""></textarea></td>';
                    } else {
                        const dateStr = `${year}-${month + 1}-${date}`;
                        row += `<td><div class="date-number">${date}</div><textarea class="memo" data-date="${dateStr}"></textarea></td>`;
                        date++;
                    }
                }
                row += '</tr>';
                calendar += row;
            }
            calendarBody.innerHTML = calendar;

            // ë©”ëª¨ ì €ì¥ ë° ë¡œë“œ
            document.querySelectorAll('.memo').forEach(memo => {
                const dateStr = memo.dataset.date;
                if (dateStr) {
                    const savedMemo = localStorage.getItem(`memo-${dateStr}`);
                    if (savedMemo) memo.value = savedMemo;
                    memo.addEventListener('input', () => {
                        localStorage.setItem(`memo-${dateStr}`, memo.value);
                    });
                }
            });
        }

        // ê²€ìƒ‰ì°½ í¬ì»¤ìŠ¤ ì²˜ë¦¬
        document.getElementById("search-input").addEventListener("focus", function() {
            if (this.value !== "") {
                schoolList.style.display = "block";
            }
        });

        // ê²€ìƒ‰ì°½ í¬ì»¤ìŠ¤ í•´ì œ ì²˜ë¦¬
        document.getElementById("search-input").addEventListener("blur", function() {
            setTimeout(() => {
                schoolList.style.display = "none";
            }, 200);
        });

        // ì‹œê°„í‘œ ì…ë ¥ ì œí•œ: Enter í‚¤ì™€ ë¶™ì—¬ë„£ê¸° ì²˜ë¦¬
        document.querySelectorAll('.timetable td[contenteditable="true"]').forEach(cell => {
            cell.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                }
            });
            cell.addEventListener('paste', function(e) {
                e.preventDefault();
                const text = (e.originalEvent || e).clipboardData.getData('text/plain');
                document.execCommand('insertText', false, text.replace(/[\r\n]/g, ' '));
            });
        });

        // íƒ­ ì „í™˜: ë©”ì¸, ì»¤ë®¤ë‹ˆí‹°, ì„¤ì • ê°„ í™”ë©´ ì „í™˜
        function switchTab(tabName) {
            document.querySelectorAll('.tab-button, .mobile-tab-button').forEach(button => {
                button.classList.remove('active');
            });
            document.querySelectorAll(`[onclick="switchTab('${tabName}')"]`).forEach(button => {
                button.classList.add('active');
            });
            document.querySelectorAll('.main-container, .community-container, .settings-container').forEach(container => {
                container.classList.remove('active');
            });
            document.querySelector('.' + tabName + '-container').classList.add('active');
            if (tabName === 'community') {
                loadPosts();
                document.querySelector('.post-form').style.display = 'none';
            }
            syncMobileTabs();
        }

        // ëª¨ë°”ì¼ íƒ­ ë™ê¸°í™”
        function syncMobileTabs() {
            const desktopTabs = document.querySelectorAll('.tab-button');
            const mobileTabs = document.querySelectorAll('.mobile-tab-button');
            desktopTabs.forEach((tab, index) => {
                if (tab.classList.contains('active')) {
                    mobileTabs[index].classList.add('active');
                } else {
                    mobileTabs[index].classList.remove('active');
                }
            });
        }

        // ê²Œì‹œê¸€ ì‘ì„± í¼ í‘œì‹œ/ìˆ¨ê¹€
        function showPostForm() {
            const postForm = document.querySelector('.post-form');
            postForm.style.display = postForm.style.display === 'none' ? 'block' : 'none';
            document.getElementById('post-title').value = '';
            document.getElementById('post-author').value = 'ìµëª…';
            document.getElementById('post-content').value = '';
        }

        // ê²Œì‹œê¸€ ì œì¶œ: ìƒˆ ê²Œì‹œê¸€ ì €ì¥
        function submitPost() {
            const title = document.getElementById('post-title').value.trim();
            const author = document.getElementById('post-author').value.trim() || 'ìµëª…';
            const content = document.getElementById('post-content').value.trim();
            if (!title || !content) {
                alert('ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            const posts = JSON.parse(localStorage.getItem('posts') || '[]');
            const newPost = {
                id: Date.now(),
                title,
                author,
                content,
                date: new Date().toLocaleDateString('ko-KR'),
                views: 0
            };
            posts.push(newPost);
            localStorage.setItem('posts', JSON.stringify(posts));
            document.querySelector('.post-form').style.display = 'none';
            loadPosts();
        }

        // ê²Œì‹œê¸€ ëª©ë¡ ë¡œë“œ: localStorageì—ì„œ ê²Œì‹œê¸€ í‘œì‹œ
        function loadPosts() {
            let posts;
            try {
                posts = JSON.parse(localStorage.getItem('posts') || '[]');
            } catch (error) {
                console.error('ê²Œì‹œê¸€ ë¡œë“œ ì˜¤ë¥˜:', error);
                posts = [];
            }
            const postListBody = document.getElementById('post-list-body');
            if (!postListBody) {
                console.error('ê²Œì‹œê¸€ ëª©ë¡ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            postListBody.innerHTML = '';
            posts.forEach(post => {
                // ê²Œì‹œê¸€ í–‰
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${post.title}</td>
                    <td>${post.author}</td>
                    <td>${post.date}</td>
                    <td>${post.views}</td>
                    <td>
                        <div class="post-actions">
                            <button class="post-actions-button" onclick="togglePostActions(${post.id})">â‹®</button>
                            <div class="post-actions-menu" id="post-actions-${post.id}">
                                <button onclick="deletePost(${post.id})">${translations[currentLanguage].deletePost}</button>
                                <button onclick="sharePost(${post.id})">${translations[currentLanguage].sharePost}</button>
                            </div>
                        </div>
                    </td>
                `;
                row.style.cursor = 'pointer';
                row.addEventListener('click', (e) => {
                    if (e.target.closest('.post-actions')) return; // 3ì  ë²„íŠ¼ í´ë¦­ ì‹œ ìƒì„¸ ë³´ê¸° ë°©ì§€
                    e.preventDefault();
                    e.stopPropagation();
                    viewPost(post.id);
                });
                postListBody.appendChild(row);

                // ìƒì„¸ ë³´ê¸° ì•„ì½”ë””ì–¸ í–‰
                const detailRow = document.createElement('tr');
                detailRow.classList.add('post-detail-row');
                detailRow.id = `post-detail-${post.id}`;
                detailRow.innerHTML = `
                    <td colspan="5">
                        <div class="post-detail-content">
                            <h2>${post.title}</h2>
                            <div class="meta">ì‘ì„±ì: ${post.author} | ì‘ì„±ì¼: ${post.date} | ì¡°íšŒìˆ˜: ${post.views}</div>
                            <div class="content">${post.content}</div>
                        </div>
                    </td>
                `;
                postListBody.appendChild(detailRow);
            });
        }

        // 3ì  ë²„íŠ¼ ë©”ë‰´ í† ê¸€
        function togglePostActions(postId) {
            const menu = document.getElementById(`post-actions-${postId}`);
            if (!menu) return;
            const isActive = menu.classList.contains('active');
            // ëª¨ë“  ë©”ë‰´ ë‹«ê¸°
            document.querySelectorAll('.post-actions-menu').forEach(m => {
                m.classList.remove('active');
            });
            // ì„ íƒëœ ë©”ë‰´ë§Œ í† ê¸€
            if (!isActive) {
                menu.classList.add('active');
            }
        }

        // ê²Œì‹œê¸€ ì‚­ì œ
        function deletePost(postId) {
            if (!confirm(translations[currentLanguage].deleteConfirm)) return;
            try {
                let posts = JSON.parse(localStorage.getItem('posts') || '[]');
                posts = posts.filter(post => post.id !== postId);
                localStorage.setItem('posts', JSON.stringify(posts));
                loadPosts();
            } catch (error) {
                console.error('ê²Œì‹œê¸€ ì‚­ì œ ì˜¤ë¥˜:', error);
            }
        }

        // ê²Œì‹œê¸€ ê³µìœ : í´ë¦½ë³´ë“œì— ë³µì‚¬
        function sharePost(postId) {
            try {
                const posts = JSON.parse(localStorage.getItem('posts') || '[]');
                const post = posts.find(p => p.id === postId);
                if (!post) {
                    alert(translations[currentLanguage].postNotFound);
                    return;
                }
                const shareText = `ì œëª©: ${post.title}\nì‘ì„±ì: ${post.author}\në‚´ìš©: ${post.content}`;
                navigator.clipboard.writeText(shareText).then(() => {
                    alert(translations[currentLanguage].shareSuccess);
                }).catch(() => {
                    alert(translations[currentLanguage].shareError);
                });
            } catch (error) {
                console.error('ê²Œì‹œê¸€ ê³µìœ  ì˜¤ë¥˜:', error);
                alert(translations[currentLanguage].shareError);
            }
        }

        // ê²Œì‹œê¸€ ìƒì„¸ ë³´ê¸°: ì•„ì½”ë””ì–¸ ìŠ¤íƒ€ì¼ë¡œ í† ê¸€
    function viewPost(postId) {
        try {
            // ëª¨ë“  ì•„ì½”ë””ì–¸ ë‹«ê¸°
            document.querySelectorAll('.post-detail-row').forEach(row => {
                row.classList.remove('active');
                row.style.display = 'none';
            });

            // ì„ íƒëœ ê²Œì‹œê¸€ì˜ ì•„ì½”ë””ì–¸ ì—´ê¸°
            const detailRow = document.getElementById(`post-detail-${postId}`);
            if (!detailRow) {
                alert(translations[currentLanguage].postNotFound);
                return;
            }

            // ì¡°íšŒìˆ˜ ì¦ê°€
            let posts = JSON.parse(localStorage.getItem('posts') || '[]');
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.views += 1;
                localStorage.setItem('posts', JSON.stringify(posts));
                loadPosts(); // ì¡°íšŒìˆ˜ ì—…ë°ì´íŠ¸ ë°˜ì˜
            }

            // ì•„ì½”ë””ì–¸ í† ê¸€
            detailRow.style.display = 'table-row';
            setTimeout(() => {
                detailRow.classList.add('active');
            }, 10); // ì• ë‹ˆë©”ì´ì…˜ ìœ„í•´ ì•½ê°„ì˜ ì§€ì—°
        } catch (error) {
            console.error('ê²Œì‹œê¸€ ìƒì„¸ ë³´ê¸° ì˜¤ë¥˜:', error);
            alert(translations[currentLanguage].postNotFound);
        }
    }

    // ë‹¤í¬ ëª¨ë“œ í† ê¸€: í…Œë§ˆ ì „í™˜ ë° ì €ì¥
    function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        const isDarkMode = document.body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDarkMode);
    }

    // í°íŠ¸ í¬ê¸° ë³€ê²½: UI í…ìŠ¤íŠ¸ í¬ê¸° ì¡°ì •
    function changeFontSize(delta) {
        const root = document.documentElement;
        const currentSize = parseFloat(getComputedStyle(root).fontSize);
        const newSize = Math.max(12, Math.min(20, currentSize + delta));
        root.style.fontSize = `${newSize}px`;
        localStorage.setItem('fontSize', newSize);
    }

    // í°íŠ¸ í¬ê¸° ì´ˆê¸°í™”: ê¸°ë³¸ê°’(16px)ìœ¼ë¡œ ë³µì›
    function resetFontSize() {
        document.documentElement.style.fontSize = '16px';
        localStorage.setItem('fontSize', '16');
    }

    // í”„ë¡œí•„ í•„ë“œ í¸ì§‘: ì´ë¦„, ì´ë©”ì¼ ìˆ˜ì •
    function editField(fieldId) {
        const element = document.getElementById(fieldId);
        const currentValue = element.textContent;
        const input = document.createElement('input');
        input.type = 'text';
        input.value = currentValue;
        input.className = 'edit-input';
        input.onblur = function() {
            element.textContent = input.value || currentValue;
            localStorage.setItem(fieldId, input.value || currentValue);
            element.style.display = 'inline';
            input.remove();
        };
        input.onkeydown = function(e) {
            if (e.key === 'Enter') input.blur();
        };
        element.style.display = 'none';
        element.parentNode.insertBefore(input, element.nextSibling);
        input.focus();
    }

    // í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ: ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ë° ì €ì¥
    function handleImageUpload(event) {
        const file = event.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function(e) {
            const img = document.getElementById('profile-preview');
            img.src = e.target.result;
            localStorage.setItem('profileImage', e.target.result);
        };
        reader.readAsDataURL(file);
    }

    // ì•Œë¦¼ ì„¤ì • í† ê¸€: í‘¸ì‹œ, ì´ë©”ì¼, ì‹œê°„í‘œ, ì‹œí—˜ ì•Œë¦¼
    function toggleNotification(type) {
        const checkbox = document.getElementById(`${type}-notification`);
        localStorage.setItem(`${type}Notification`, checkbox.checked);
    }

    // ì•Œë¦¼ìŒ ë³€ê²½: ì„ íƒëœ ì•Œë¦¼ìŒ ì €ì¥
    function changeNotificationSound(sound) {
        localStorage.setItem('notificationSound', sound);
    }

    // ìë™ ì €ì¥ í† ê¸€
    function toggleAutoSave() {
        const autoSave = document.getElementById('auto-save').checked;
        localStorage.setItem('autoSave', autoSave);
    }

    // ìë™ ë°±ì—… í† ê¸€
    function toggleAutoBackup() {
        const autoBackup = document.getElementById('auto-backup').checked;
        localStorage.setItem('autoBackup', autoBackup);
    }

    // í´ë¼ìš°ë“œ ë™ê¸°í™” í† ê¸€
    function toggleCloudSync() {
        const cloudSync = document.getElementById('cloud-sync').checked;
        localStorage.setItem('cloudSync', cloudSync);
        if (cloudSync) {
            document.getElementById('last-sync').textContent = new Date().toLocaleString('ko-KR');
            localStorage.setItem('lastSync', new Date().toISOString());
        }
    }

    // ìˆ˜ë™ ë°±ì—…: ë°ì´í„° ë‹¤ìš´ë¡œë“œ
    function manualBackup() {
        const data = {
            timetables,
            posts: JSON.parse(localStorage.getItem('posts') || '[]'),
            settings: {
                darkMode: localStorage.getItem('darkMode'),
                fontSize: localStorage.getItem('fontSize'),
                language: localStorage.getItem('language')
            }
        };
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'school-talk-backup.json';
        a.click();
        URL.revokeObjectURL(url);
        alert(translations[currentLanguage].exportSuccess);
    }

    // ë°ì´í„° ë‚´ë³´ë‚´ê¸°: í˜„ì¬ ë°ì´í„° ë‹¤ìš´ë¡œë“œ
    function exportData() {
        manualBackup();
    }

    // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°: JSON íŒŒì¼ ì—…ë¡œë“œ ë° ë³µì›
    function importData(event) {
        const file = event.target.files[0];
        if (!file) return;
        if (!file.name.endsWith('.json')) {
            alert(translations[currentLanguage].importError);
            return;
        }
        const reader = new FileReader();
        reader.onload = function(e) {
            try {
                const data = JSON.parse(e.target.result);
                if (data.timetables) {
                    Object.assign(timetables, data.timetables);
                    loadTimetable();
                }
                if (data.posts) {
                    localStorage.setItem('posts', JSON.stringify(data.posts));
                    loadPosts();
                }
                if (data.settings) {
                    if (data.settings.darkMode) {
                        localStorage.setItem('darkMode', data.settings.darkMode);
                        if (data.settings.darkMode === 'true') {
                            document.body.classList.add('dark-mode');
                        } else {
                            document.body.classList.remove('dark-mode');
                        }
                    }
                    if (data.settings.fontSize) {
                        document.documentElement.style.fontSize = `${data.settings.fontSize}px`;
                        localStorage.setItem('fontSize', data.settings.fontSize);
                    }
                    if (data.settings.language) {
                        changeLanguage(data.settings.language);
                    }
                }
                alert(translations[currentLanguage].importSuccess);
            } catch (error) {
                console.error('ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì˜¤ë¥˜:', error);
                alert(translations[currentLanguage].importInvalid);
            }
        };
        reader.readAsText(file);
    }

    // ë°ì´í„° ì´ˆê¸°í™”: ëª¨ë“  ë°ì´í„° ì‚­ì œ
    function resetData() {
        if (!confirm(translations[currentLanguage].confirmReset)) return;
        localStorage.clear();
        Object.keys(timetables).forEach(school => {
            timetables[school] = {
                "1ë°˜": Array(timetableCells.length).fill(""),
                "2ë°˜": Array(timetableCells.length).fill(""),
                "3ë°˜": Array(timetableCells.length).fill(""),
                "4ë°˜": Array(timetableCells.length).fill("")
            };
        });
        loadTimetable();
        loadPosts();
        document.documentElement.style.fontSize = '16px';
        document.body.classList.remove('dark-mode');
        document.getElementById('profile-preview').src = '';
        document.getElementById('user-name').textContent = 'ì‚¬ìš©ì ì´ë¦„';
        document.getElementById('user-email').textContent = 'user@example.com';
        changeLanguage('ko');
    }

    // ì„¤ì • ë³µì›: ì €ì¥ëœ ì„¤ì • ì ìš©
    function restoreSettings() {
        const fontSize = localStorage.getItem('fontSize');
        if (fontSize) document.documentElement.style.fontSize = `${fontSize}px`;

        const language = localStorage.getItem('language');
        if (language) changeLanguage(language);

        const notifications = ['push', 'email', 'timetable', 'exam'];
        notifications.forEach(type => {
            const enabled = localStorage.getItem(`${type}Notification`) === 'true';
            document.getElementById(`${type}-notification`).checked = enabled;
        });

        const notificationSound = localStorage.getItem('notificationSound') || 'default';
        document.querySelector('.notification-sound').value = notificationSound;

        const autoSave = localStorage.getItem('autoSave') === 'true';
        document.getElementById('auto-save').checked = autoSave;

        const autoBackup = localStorage.getItem('autoBackup') === 'true';
        document.getElementById('auto-backup').checked = autoBackup;

        const cloudSync = localStorage.getItem('cloudSync') === 'true';
        document.getElementById('cloud-sync').checked = cloudSync;

        const lastSync = localStorage.getItem('lastSync');
        if (lastSync) {
            document.getElementById('last-sync').textContent = new Date(lastSync).toLocaleString('ko-KR');
        }
    }

    // ì•„ì½”ë””ì–¸ ì„¤ì • ë©”ë‰´ í† ê¸€: ì„¤ì • í˜ì´ì§€ì˜ ì•„ì½”ë””ì–¸ ë™ì‘
    document.querySelectorAll('.settings-item').forEach(item => {
        item.addEventListener('click', function() {
            const section = this.dataset.section;
            const content = document.getElementById(`${section}-content`);
            const isActive = content.classList.contains('active');

            // ëª¨ë“  ì•„ì½”ë””ì–¸ ë‹«ê¸°
            document.querySelectorAll('.accordion-content').forEach(c => {
                c.classList.remove('active');
                c.style.maxHeight = null;
            });
            document.querySelectorAll('.settings-item').forEach(i => {
                i.classList.remove('active');
            });

            // ì„ íƒëœ ì•„ì½”ë””ì–¸ ì—´ê¸°
            if (!isActive) {
                this.classList.add('active');
                content.classList.add('active');
                content.style.maxHeight = content.scrollHeight + 'px';
            }
        });
    });

    // ë„ì›€ë§ ê´€ë ¨ í•¨ìˆ˜: ë¯¸êµ¬í˜„ ì•Œë¦¼
    function showTerms() {
        alert('ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜ì„œ: êµ¬í˜„ ì˜ˆì •');
    }
    function showLocationSettings() {
        alert('ìœ„ì¹˜ ì •ë³´ ì„¤ì •: êµ¬í˜„ ì˜ˆì •');
    }
    function showAccountSettings() {
        alert('ê³„ì • ì •ë³´ ê´€ë¦¬: êµ¬í˜„ ì˜ˆì •');
    }
    function showFAQ() {
        alert('ìì£¼ ì°¾ëŠ” ë„ì›€ë§: êµ¬í˜„ ì˜ˆì •');
    }
    function showContact() {
        alert('ë¬¸ì˜í•˜ê¸°: êµ¬í˜„ ì˜ˆì •');
    }
    function showUserGuide() {
        alert('ì‚¬ìš© ê°€ì´ë“œ: êµ¬í˜„ ì˜ˆì •');
    }

    // ë¬¸ì„œ ì™¸ë¶€ í´ë¦­ ì‹œ 3ì  ë©”ë‰´ ë‹«ê¸°
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.post-actions')) {
            document.querySelectorAll('.post-actions-menu').forEach(menu => {
                menu.classList.remove('active');
            });
        }
    });
</script>
